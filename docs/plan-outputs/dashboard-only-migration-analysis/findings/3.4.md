# Task 3.4: Feature Gaps Categorized by Importance

## Overview

This document categorizes all identified feature gaps from task 3.3 by their importance for a dashboard-only migration scenario. The categorization uses the following criteria:

- **CRITICAL**: Blocks core workflow; dashboard unusable without it
- **HIGH**: Significantly degrades user experience; workarounds are painful
- **MEDIUM**: Useful features; acceptable workarounds exist
- **LOW**: Nice-to-have; minimal impact if missing

## CRITICAL Gaps (Must Have for Dashboard-Only)

These features are essential for the dashboard to be viable as a standalone interface.

### 1. Plan Creation (`/plan:create`)
| Aspect | Details |
|--------|---------|
| **Why Critical** | Users cannot create new plans from the dashboard; this is a fundamental workflow requirement |
| **Current Workaround** | Must use CLI to create plans, then view in dashboard |
| **Impact if Missing** | Dashboard can only view existing plans, not start new work |
| **Recommendation** | Add plan creation wizard with template selection |
| **Effort Estimate** | High - requires form UI, template system integration |

### 2. Task Implementation (`/plan:implement`)
| Aspect | Details |
|--------|---------|
| **Why Critical** | Users cannot directly execute tasks; orchestrator is the only execution path |
| **Current Workaround** | Start orchestrator, which auto-picks tasks |
| **Impact if Missing** | No fine-grained control over task execution order |
| **Recommendation** | Add "Implement Task" button that triggers Claude session |
| **Effort Estimate** | Very High - requires Claude integration |

### 3. Git Auto-Commit
| Aspect | Details |
|--------|---------|
| **Why Critical** | Changes from orchestrator are not version controlled without CLI |
| **Current Workaround** | Manual git commits after tasks complete |
| **Impact if Missing** | Work can be lost; no version history per task |
| **Recommendation** | Dashboard orchestrator should auto-commit via API |
| **Effort Estimate** | Medium - API server enhancement |

## HIGH Importance Gaps

These features significantly impact usability but have acceptable workarounds.

### 4. Task Explanation (`/plan:explain`)
| Aspect | Details |
|--------|---------|
| **Why High** | Users need to understand task requirements before execution |
| **Current Workaround** | Read plan file manually |
| **Impact if Missing** | Tasks may be misunderstood; errors more likely |
| **Recommendation** | Add "Explain" button to task row, show in modal |
| **Effort Estimate** | Medium - Claude integration for explain |

### 5. Task Verification (`/plan:verify`)
| Aspect | Details |
|--------|---------|
| **Why High** | No way to validate task completion from dashboard |
| **Current Workaround** | Manual review of changes |
| **Impact if Missing** | Quality assurance requires external tools |
| **Recommendation** | Add "Verify" button to completed tasks |
| **Effort Estimate** | Medium - Claude integration for verify |

### 6. Plan Archival (`/plan:archive`)
| Aspect | Details |
|--------|---------|
| **Why High** | Completed plans accumulate; no cleanup from dashboard |
| **Current Workaround** | Use CLI to archive, or manual file deletion |
| **Impact if Missing** | Plans list becomes cluttered over time |
| **Recommendation** | Add "Archive" action to completed plans |
| **Effort Estimate** | Low - API endpoint exists, need UI |

### 7. Worktree Management
| Aspect | Details |
|--------|---------|
| **Why High** | Cannot run multiple plans in parallel from dashboard |
| **Current Workaround** | Use CLI for worktree setup |
| **Impact if Missing** | Single-plan execution only |
| **Recommendation** | Add worktree panel with create/remove |
| **Effort Estimate** | Medium - new UI component |

### 8. Agent Tracking Panel
| Aspect | Details |
|--------|---------|
| **Why High** | Cannot monitor parallel agent execution |
| **Current Workaround** | Activity feed shows some agent info |
| **Impact if Missing** | Reduced visibility into parallel execution |
| **Recommendation** | Add AgentTrackerPanel equivalent |
| **Effort Estimate** | Medium - new component |

### 9. Output Streaming
| Aspect | Details |
|--------|---------|
| **Why High** | Limited visibility into Claude execution |
| **Current Workaround** | Activity feed shows tool calls |
| **Impact if Missing** | Cannot debug execution issues |
| **Recommendation** | Add real-time output panel |
| **Effort Estimate** | Medium - WebSocket enhancement |

## MEDIUM Importance Gaps

These features improve workflow but have reasonable workarounds.

### 10. Batch Execution (`/plan:batch`)
| Aspect | Details |
|--------|---------|
| **Why Medium** | Cannot execute multiple tasks at once |
| **Current Workaround** | Orchestrator handles batching automatically |
| **Impact if Missing** | Less control over parallelism |
| **Recommendation** | Add batch size control to orchestrator settings |
| **Effort Estimate** | Low - setting already exists |

### 11. Task Splitting (`/plan:split`)
| Aspect | Details |
|--------|---------|
| **Why Medium** | Cannot decompose large tasks |
| **Current Workaround** | Edit plan file via CLI |
| **Impact if Missing** | Tasks remain monolithic |
| **Recommendation** | Add "Split" action with subtask editor |
| **Effort Estimate** | High - complex UI |

### 12. Plan Rollback (`/plan:rollback`)
| Aspect | Details |
|--------|---------|
| **Why Medium** | Cannot undo plan changes |
| **Current Workaround** | Git revert via CLI |
| **Impact if Missing** | Mistakes harder to correct |
| **Recommendation** | Add "Rollback" action |
| **Effort Estimate** | Medium - git integration needed |

### 13. Vim-style Navigation
| Aspect | Details |
|--------|---------|
| **Why Medium** | Keyboard-first users less efficient |
| **Current Workaround** | Mouse navigation |
| **Impact if Missing** | Slower workflow for power users |
| **Recommendation** | Add j/k navigation, keyboard shortcuts |
| **Effort Estimate** | Low - event listeners |

### 14. Template System
| Aspect | Details |
|--------|---------|
| **Why Medium** | Cannot browse/select templates |
| **Current Workaround** | Use CLI `/plan:templates` |
| **Impact if Missing** | Template discovery requires CLI |
| **Recommendation** | Add template browser to plan creation |
| **Effort Estimate** | Medium - new UI component |

### 15. Subtask Tree View
| Aspect | Details |
|--------|---------|
| **Why Medium** | Cannot visualize hierarchical tasks |
| **Current Workaround** | Task list shows flat structure |
| **Impact if Missing** | Subtask relationships harder to see |
| **Recommendation** | Add collapsible subtask tree |
| **Effort Estimate** | Medium - tree component |

### 16. Error Recovery Strategies
| Aspect | Details |
|--------|---------|
| **Why Medium** | No automatic recovery from failures |
| **Current Workaround** | Manual retry via UI |
| **Impact if Missing** | More manual intervention needed |
| **Recommendation** | Add configurable retry policies |
| **Effort Estimate** | Medium - backend changes |

## LOW Importance Gaps

These features are nice-to-have with minimal impact if missing.

### 17. Plan Cleanup (`/plan:cleanup`)
| Aspect | Details |
|--------|---------|
| **Why Low** | Cleanup is infrequent operation |
| **Current Workaround** | Use CLI when needed |
| **Impact if Missing** | Slightly more maintenance effort |
| **Recommendation** | Add "Cleanup" action (low priority) |
| **Effort Estimate** | Low |

### 18. Plan Abandonment (`/plan:abandon`)
| Aspect | Details |
|--------|---------|
| **Why Low** | Abandonment is rare |
| **Current Workaround** | Stop orchestrator, archive manually |
| **Impact if Missing** | Minor inconvenience |
| **Recommendation** | Add "Abandon" action to plan menu |
| **Effort Estimate** | Low |

### 19. Plan Migration (`/plan:migrate`)
| Aspect | Details |
|--------|---------|
| **Why Low** | One-time migration per plan |
| **Current Workaround** | Use CLI |
| **Impact if Missing** | Manual migration if needed |
| **Recommendation** | Keep as CLI-only |
| **Effort Estimate** | N/A |

### 20. Keybinding Customization
| Aspect | Details |
|--------|---------|
| **Why Low** | Power user feature |
| **Current Workaround** | Use default shortcuts |
| **Impact if Missing** | Less personalization |
| **Recommendation** | Add to settings (low priority) |
| **Effort Estimate** | Low |

### 21. Tab Completion
| Aspect | Details |
|--------|---------|
| **Why Low** | Command palette handles most cases |
| **Current Workaround** | Full typing or selection |
| **Impact if Missing** | Slightly slower input |
| **Recommendation** | Not needed for web |
| **Effort Estimate** | N/A |

### 22. Search History
| Aspect | Details |
|--------|---------|
| **Why Low** | Minor convenience feature |
| **Current Workaround** | Retype searches |
| **Impact if Missing** | Minimal |
| **Recommendation** | Add to browser localStorage |
| **Effort Estimate** | Very Low |

### 23. Daemon Mode
| Aspect | Details |
|--------|---------|
| **Why Low** | Dashboard IS the "daemon" equivalent |
| **Current Workaround** | Keep browser tab open |
| **Impact if Missing** | None for web interface |
| **Recommendation** | Not applicable |
| **Effort Estimate** | N/A |

### 24. Cache Management
| Aspect | Details |
|--------|---------|
| **Why Low** | Developer/debug feature |
| **Current Workaround** | Use CLI scripts |
| **Impact if Missing** | No user-facing impact |
| **Recommendation** | Keep as CLI-only |
| **Effort Estimate** | N/A |

### 25. Multi-Plan Monitor Layout
| Aspect | Details |
|--------|---------|
| **Why Low** | Dashboard grid provides similar view |
| **Current Workaround** | Use dashboard home page |
| **Impact if Missing** | Minimal - already covered |
| **Recommendation** | Not needed |
| **Effort Estimate** | N/A |

## Summary by Priority

| Priority | Count | Features |
|----------|-------|----------|
| **CRITICAL** | 3 | Plan creation, task implementation, git auto-commit |
| **HIGH** | 6 | Explain, verify, archive, worktree, agent tracking, output streaming |
| **MEDIUM** | 7 | Batch, split, rollback, vim keys, templates, subtask tree, error recovery |
| **LOW** | 9 | Cleanup, abandon, migrate, keybindings, tab completion, search history, daemon, cache, layout |

## Effort vs Impact Matrix

```
                    HIGH IMPACT
                         │
    ╔════════════════════╪════════════════════╗
    ║                    │                    ║
    ║  [1] Plan Create   │  [2] Implement     ║
    ║  [4] Explain       │  [3] Git Commit    ║
    ║  [5] Verify        │                    ║
    ║                    │                    ║
LOW ╠════════════════════╪════════════════════╣ HIGH
EFFORT                   │                    EFFORT
    ║                    │                    ║
    ║  [10] Batch        │  [11] Split        ║
    ║  [13] Vim keys     │  [7] Worktree      ║
    ║  [6] Archive       │  [8] Agent Panel   ║
    ║                    │  [9] Output Stream ║
    ║                    │                    ║
    ╚════════════════════╪════════════════════╝
                         │
                    LOW IMPACT
```

## Recommended Implementation Order

Based on priority and effort analysis:

### Phase 1: Enable Core Workflow (CRITICAL)
1. Plan Creation Wizard - enables new work
2. Git Auto-Commit - ensures work is saved
3. Task Implementation - direct task control

### Phase 2: Enhance Usability (HIGH)
4. Task Explain Button - understand tasks
5. Task Verify Button - validate completion
6. Plan Archive Action - cleanup workflow
7. Agent Tracking Panel - execution visibility

### Phase 3: Power User Features (MEDIUM)
8. Worktree Management - parallel plans
9. Output Streaming - debugging
10. Vim-style Navigation - keyboard efficiency
11. Template Browser - faster plan creation

### Phase 4: Polish (LOW)
12-25. Remaining features as time permits

## Conclusion

For a dashboard-only migration to be viable:

- **Minimum Viable**: 3 CRITICAL features must be implemented
- **Recommended**: 3 CRITICAL + 6 HIGH = 9 features
- **Full Parity**: 25 total features (not recommended; some CLI-only makes sense)

The dashboard should focus on **monitoring and control**, while the CLI remains valuable for **authoring and advanced operations**.
