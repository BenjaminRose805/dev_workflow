# Task 3.2: Dashboard Features vs TUI Capabilities

## Overview

This document compares the dashboard (web UI) against the TUI (terminal UI) to identify feature parity, strengths, and migration considerations.

## Feature Comparison Matrix

### Legend
- ✅ Available
- ❌ Not available
- ⚠️ Partial/Limited

### Display Panels

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Phase progress | ✅ PhaseProgress | ✅ PhaseProgressPanel | Similar functionality |
| Upcoming tasks | ✅ Task list | ✅ UpcomingPanel | TUI shows blockers inline |
| Run history | ✅ RunHistoryTable | ✅ RunHistoryPanel | Both show execution runs |
| Dependency graph | ✅ DependencyGraph | ✅ DependencyGraphPanel | Dashboard is interactive |
| Subtask tree | ❌ | ✅ SubtaskTreePanel | TUI only |
| Artifact browser | ⚠️ FindingsViewer | ✅ ArtifactBrowserPanel | TUI has file browser UI |
| Agent tracker | ❌ | ✅ AgentTrackerPanel | TUI tracks parallel agents |
| Activity feed | ✅ Activity timeline | ✅ Tool call logging | Different formats |

### Navigation & Input

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Mouse navigation | ✅ Full | ❌ | Dashboard only |
| Keyboard navigation | ⚠️ Limited | ✅ Full vim-style | TUI has j/k, etc. |
| Mode switching | ❌ | ✅ Normal/Command/Search | TUI only |
| Panel switching | ✅ Tabs | ✅ Tab key | Both work |
| Focus mode | ✅ Maximize panel | ✅ F key | Both support |
| Search | ⚠️ Filter chips | ✅ / key search mode | TUI has better search |

### Command System

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Command palette | ✅ useCommandPalette | ✅ CommandPaletteModal | Both have palettes |
| Fuzzy search | ✅ | ✅ | Both support |
| Tab completion | ❌ | ✅ | TUI only |
| Command discovery | ⚠️ Pre-defined | ✅ Scans .claude/commands | TUI auto-discovers |
| Command arguments | ❌ | ✅ | TUI supports args |

### Task Actions

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Implement task | ✅ Start orchestrator | ✅ `i` key | Different mechanisms |
| Skip task | ✅ Context menu | ✅ `s` key | Both work |
| Retry task | ✅ Context menu | ❌ | Dashboard only |
| Explain task | ❌ | ✅ `e` key | TUI only |
| Verify task | ❌ | ✅ `v` key | TUI only |
| View findings | ✅ FindingsViewer | ✅ `f` key | Both work |
| Show dependencies | ✅ DependencyGraph | ✅ `d` key | Both work |

### Task Selection

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Single select | ✅ Click | ✅ Enter | Both work |
| Multi-select | ✅ Checkboxes | ✅ Space key | Both work |
| Filter by status | ✅ Filter chips | ✅ Search mode | Both work |
| Filter by phase | ✅ Phase tabs | ⚠️ Manual navigation | Dashboard better |
| Blocker display | ⚠️ Dependency view | ✅ Inline blockers | TUI more prominent |

### Command Execution

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Run command | ✅ API calls | ✅ CommandRunner | Different mechanisms |
| Output streaming | ⚠️ Activity feed | ✅ Real-time output | TUI has full output |
| Agent spawn tracking | ❌ | ✅ AgentTracker | TUI only |
| Fan-in status | ❌ | ✅ Waiting for N/M | TUI only |
| Tool call details | ✅ Collapsed | ⚠️ Log entries | Dashboard more organized |
| Execution cancel | ✅ Stop button | ✅ Manual stop | Both work |

### Error Handling

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Error display | ✅ Toast/Alert | ✅ Status bar | Both show errors |
| Error recovery | ❌ | ✅ ErrorRecovery | TUI has auto-recovery |
| Error categorization | ❌ | ✅ ErrorCategory | TUI categorizes |
| Error history | ❌ | ✅ Recent errors list | TUI only |
| Graceful degradation | ⚠️ React error boundary | ✅ @recoverable decorator | TUI more robust |

### Configuration

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Panel visibility | ✅ Collapsible | ✅ Toggle keys (1-5) | Both work |
| Theme selection | ✅ Dark/light | ❌ | Dashboard only |
| Keybinding customization | ❌ | ✅ config.py | TUI only |
| Search history | ❌ | ✅ Saved in config | TUI only |
| Refresh rate | ❌ | ✅ Configurable Hz | TUI only |
| Compact mode | ❌ | ✅ Auto on small terminals | TUI only |

### Overlays & Modals

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Help overlay | ⚠️ Documentation links | ✅ ? key | TUI has inline help |
| Task picker | ✅ Task selector | ✅ TaskPickerModal | Both work |
| Findings browser | ✅ FindingsViewer | ✅ FindingsBrowserModal | Both work |
| Command palette | ✅ useCommandPalette | ✅ CommandPaletteModal | Both work |
| Settings modal | ✅ Dialog | ❌ | Dashboard only |

### Real-time Updates

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| WebSocket updates | ✅ Full | ❌ | Dashboard only |
| Status.json polling | ❌ | ✅ | TUI only |
| Task status changes | ✅ Instant | ✅ Near-instant | Both fast |
| Progress updates | ✅ Instant | ✅ Polling-based | Dashboard slightly faster |
| Activity events | ✅ Streaming | ⚠️ Log-based | Dashboard better |

### UI/UX Features

| Feature | Dashboard | TUI | Notes |
|---------|-----------|-----|-------|
| Dark mode | ✅ Theme toggle | ❌ (terminal theme) | Dashboard only |
| Responsive design | ✅ Mobile-friendly | ⚠️ Terminal size | Dashboard only |
| PWA support | ✅ Service worker | ❌ | Dashboard only |
| Copy to clipboard | ✅ One-click | ❌ | Dashboard only |
| Visual progress bars | ✅ Gradient bars | ✅ ASCII bars | Dashboard prettier |
| Touch support | ✅ | ❌ | Dashboard only |

## Summary by Category

### Dashboard Advantages Over TUI

1. **Modern Web UI** - Responsive, mobile-friendly, touch support
2. **Visual Dependency Graph** - Interactive, zoomable DAG
3. **Rich Activity Timeline** - Collapsible tool calls with details
4. **WebSocket Real-time** - Instant updates without polling
5. **Dark/Light Theme** - User preference toggle
6. **Settings Modal** - Orchestrator configuration UI
7. **PWA Support** - Installable, offline-capable
8. **Copy to Clipboard** - Easy content sharing
9. **Retry Task** - One-click retry from UI

### TUI Advantages Over Dashboard

1. **Full Vim-style Navigation** - j/k, g/G, Home/End
2. **Mode Switching** - Normal/Command/Search modes
3. **Agent Tracker Panel** - Parallel agent monitoring
4. **Subtask Tree Panel** - Hierarchical X.Y.Z view
5. **Command Arguments** - Full command line support
6. **Explain/Verify Actions** - e/v keys for task context
7. **Error Recovery** - Auto-recovery from failures
8. **Keybinding Customization** - User-defined shortcuts
9. **Tab Completion** - Command palette completion
10. **Output Streaming** - Full Claude output visible
11. **Fan-in Status** - Waiting for N/M agents display
12. **Configuration Persistence** - Local JSON config

## Feature Gap Analysis

### High Priority Gaps (Dashboard Missing TUI Features)

| Feature | Impact | Recommendation |
|---------|--------|----------------|
| Agent tracking | Cannot monitor parallel agents | Add agent panel |
| Subtask tree | No hierarchical task view | Add tree component |
| Explain action | Cannot get task context | Add explain button |
| Verify action | Cannot verify task completion | Add verify button |
| Output streaming | Limited visibility into execution | Enhance activity feed |

### Medium Priority Gaps

| Feature | Impact | Recommendation |
|---------|--------|----------------|
| Vim keybindings | Keyboard users limited | Add j/k navigation |
| Command arguments | Cannot pass args via UI | Add args input field |
| Error recovery | No auto-recovery | Add retry logic |
| Search mode | Limited search | Enhance filter |

### Low Priority Gaps

| Feature | Impact | Recommendation |
|---------|--------|----------------|
| Tab completion | Nice-to-have | Add later |
| Keybinding customization | Power users only | Add later |
| Compact mode | Not needed for web | Skip |

## Architectural Comparison

| Aspect | Dashboard | TUI |
|--------|-----------|-----|
| Language | TypeScript/React | Python |
| Rendering | React DOM | Rich library |
| State | React Query | Python dataclasses |
| Data source | REST API + WebSocket | Direct file access |
| Update mechanism | WebSocket push | File polling |
| Keyboard handling | Event listeners | Raw terminal input |
| Error handling | React error boundaries | @recoverable decorators |

## Conclusion

The dashboard and TUI serve **different use cases**:

- **Dashboard**: Visual monitoring, remote access, team visibility
- **TUI**: Local development, keyboard-driven workflow, deep execution insight

**Feature Parity Summary:**

| Category | Dashboard vs TUI |
|----------|------------------|
| Display panels | 85% (missing agent tracker, subtask tree) |
| Task actions | 70% (missing explain, verify) |
| Command system | 80% (missing args, tab completion) |
| Navigation | 60% (missing vim keys, modes) |
| Error handling | 50% (missing recovery strategies) |
| Configuration | 70% (missing keybindings, compact mode) |
| **Overall** | **~70%** |

**Recommendation:**
- Dashboard is suitable as **primary UI for monitoring**
- TUI remains valuable for **local development** with keyboard workflow
- Key features to add to dashboard: agent tracking, explain/verify actions, enhanced keyboard nav
