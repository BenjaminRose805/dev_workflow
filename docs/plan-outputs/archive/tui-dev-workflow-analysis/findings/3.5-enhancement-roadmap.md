# 3.5 Prioritized Enhancement Roadmap

This document provides a comprehensive, prioritized roadmap for implementing TUI workflow enhancements based on Phase 1-3 analysis.

---

## Executive Summary

| Phase | Focus | Items | Effort | Impact |
|-------|-------|-------|--------|--------|
| **Phase 1** | Critical Fixes | 10 | 1 hour | HIGH |
| **Phase 2** | Core Enhancements | 15 | 2-3 hours | HIGH |
| **Phase 3** | Advanced Features | 12 | 2-3 hours | MEDIUM |
| **Phase 4** | Polish & Optimize | 10 | 1-2 hours | LOW |

**Total Estimated Effort:** 6-9 hours over 2-4 weeks

---

## Phase 1: Critical Fixes (Day 1)

**Objective:** Fix blocking issues and install essential missing tools

### 1.1 Install Missing Essential Tools
**Time:** 10 minutes

```bash
# Ubuntu/Debian
sudo apt install lazygit bat zoxide

# Delta via cargo (more recent version)
cargo install git-delta

# Verify installations
lazygit --version
bat --version
zoxide --version
delta --version
```

**Checklist:**
- [ ] lazygit installed
- [ ] bat installed
- [ ] delta installed
- [ ] zoxide installed

---

### 1.2 Enable fzf Shell Integration
**Time:** 5 minutes

```bash
# Add to ~/.bashrc
cat >> ~/.bashrc << 'EOF'

# fzf integration
source /usr/share/doc/fzf/examples/key-bindings.bash
source /usr/share/doc/fzf/examples/completion.bash
EOF

# Reload
source ~/.bashrc
```

**Test:**
- [ ] Ctrl-R shows fuzzy history
- [ ] Ctrl-T shows fuzzy file finder
- [ ] Alt-C shows fuzzy directory navigation

---

### 1.3 Configure delta as Git Pager
**Time:** 5 minutes

```bash
# Add to ~/.gitconfig
git config --global core.pager delta
git config --global interactive.diffFilter "delta --color-only"
git config --global delta.navigate true
git config --global delta.side-by-side true
git config --global delta.syntax-theme "Monokai Extended"
```

**Test:**
- [ ] `git diff` shows syntax-highlighted output
- [ ] `git log -p` shows enhanced diff

---

### 1.4 Fix Yazi Git Plugin
**Time:** 5 minutes

Edit `~/.config/yazi/yazi.toml`:
```toml
[plugin]
prepend_previewers = [
  { name = "*.md", run = "glow" },
]

[[plugin.prepend_fetchers]]
id   = "git"
name = "*"
run  = "git"

[[plugin.prepend_fetchers]]
id   = "git"
name = "*/"
run  = "git"
```

**Test:**
- [ ] Open yazi in git repo
- [ ] File status icons visible (M, A, ?)

---

### 1.5 Enable Micro Git Integration
**Time:** 5 minutes

Edit `~/.config/micro/settings.json`:
```json
{
    "lsp.server": "python=pylsp",
    "lsp.autocompleteDetails": true,
    "lsp.formatOnSave": true,
    "diffgutter": true,
    "hltrailingws": true
}
```

**Test:**
- [ ] Open file in git repo with micro
- [ ] See diff markers in gutter
- [ ] Trailing whitespace highlighted

---

### 1.6 Initialize Zoxide
**Time:** 5 minutes

```bash
# Add to ~/.bashrc
cat >> ~/.bashrc << 'EOF'

# zoxide
eval "$(zoxide init bash)"
EOF

source ~/.bashrc
```

**Test:**
- [ ] `z` command available
- [ ] `zi` shows interactive selection

---

### Phase 1 Verification Checklist

```bash
# Run all checks
echo "=== Phase 1 Verification ==="
command -v lazygit && echo "✓ lazygit" || echo "✗ lazygit"
command -v bat && echo "✓ bat" || echo "✗ bat"
command -v delta && echo "✓ delta" || echo "✗ delta"
command -v zoxide && echo "✓ zoxide" || echo "✗ zoxide"
grep -q "key-bindings.bash" ~/.bashrc && echo "✓ fzf integration" || echo "✗ fzf integration"
grep -q "zoxide init" ~/.bashrc && echo "✓ zoxide init" || echo "✗ zoxide init"
grep -q "delta" ~/.gitconfig 2>/dev/null && echo "✓ delta configured" || echo "✗ delta configured"
grep -q "git" ~/.config/yazi/yazi.toml && echo "✓ yazi git" || echo "✗ yazi git"
grep -q "diffgutter" ~/.config/micro/settings.json && echo "✓ micro diffgutter" || echo "✗ micro diffgutter"
```

---

## Phase 2: Core Enhancements (Week 1)

**Objective:** Build integrated workflow with plugins and configuration

### 2.1 Create tmux Configuration
**Time:** 30 minutes

```bash
# Install TPM
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# Create config
cat > ~/.tmux.conf << 'EOF'
# Prefix key
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Mouse support
set -g mouse on

# Better defaults
set -g history-limit 50000
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Colors
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"

# Faster escape
set -s escape-time 0

# Status bar
set -g status-position top
set -g status-style 'bg=#333333 fg=#ffffff'
set -g status-left '#[fg=green]#S '
set -g status-right '#[fg=cyan]#(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD 2>/dev/null || echo "-") #[fg=yellow]%H:%M'

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Auto-restore
set -g @continuum-restore 'on'

# Initialize TPM
run '~/.tmux/plugins/tpm/tpm'
EOF

# Start tmux and install plugins
tmux source ~/.tmux.conf
# Press prefix + I to install plugins
```

**Checklist:**
- [ ] ~/.tmux.conf created
- [ ] TPM installed
- [ ] Prefix + I installs plugins
- [ ] Sessions persist after tmux kill

---

### 2.2 Install Yazi Plugins
**Time:** 15 minutes

```bash
# Install plugins
ya pkg add yazi-rs/plugins:lazygit
ya pkg add yazi-rs/plugins:ouch
ya pkg add yazi-rs/plugins:smart-enter

# Create keymap
cat > ~/.config/yazi/keymap.toml << 'EOF'
[[manager.prepend_keymap]]
on   = ["<C-g>"]
run  = "plugin lazygit"
desc = "Open lazygit"

[[manager.prepend_keymap]]
on   = ["<C-e>"]
run  = "seek 5"
desc = "Scroll preview down"

[[manager.prepend_keymap]]
on   = ["<C-y>"]
run  = "seek -5"
desc = "Scroll preview up"

[[manager.prepend_keymap]]
on   = ["l"]
run  = "plugin smart-enter"
desc = "Smart enter directory"

[[manager.prepend_keymap]]
on   = ["<Enter>"]
run  = "plugin smart-enter"
desc = "Smart enter directory"
EOF
```

**Checklist:**
- [ ] lazygit.yazi installed
- [ ] Ctrl-G opens lazygit from yazi
- [ ] Smart enter works for archives

---

### 2.3 Add fzf-git Integration
**Time:** 15 minutes

```bash
# Download fzf-git.sh
curl -o ~/.fzf-git.sh https://raw.githubusercontent.com/junegunn/fzf-git.sh/main/fzf-git.sh

# Add to ~/.bashrc
cat >> ~/.bashrc << 'EOF'

# fzf-git integration
source ~/.fzf-git.sh
EOF

source ~/.bashrc
```

**Usage:**
- Ctrl-G b: Fuzzy branch selection
- Ctrl-G c: Fuzzy commit selection
- Ctrl-G f: Fuzzy changed files
- Ctrl-G t: Fuzzy tag selection

**Checklist:**
- [ ] fzf-git.sh downloaded
- [ ] Sourced in .bashrc
- [ ] Ctrl-G shortcuts work

---

### 2.4 Expand Micro LSP Support
**Time:** 10 minutes

```bash
# Install bash language server
npm install -g bash-language-server

# Update micro settings
cat > ~/.config/micro/settings.json << 'EOF'
{
    "lsp.server": "python=pylsp,sh=bash-language-server,json=deno lsp,markdown=deno lsp",
    "lsp.autocompleteDetails": true,
    "lsp.formatOnSave": true,
    "diffgutter": true,
    "hltrailingws": true,
    "rmtrailingws": true,
    "savecursor": true,
    "saveundo": true
}
EOF
```

**Checklist:**
- [ ] bash-language-server installed
- [ ] LSP works for .sh files
- [ ] LSP works for .json files

---

### 2.5 Install Micro Plugins
**Time:** 10 minutes

```bash
# Install plugins
micro -plugin install gitstatus
micro -plugin install detectindent
micro -plugin install monokai-dark

# Update colorscheme
# Add to settings.json: "colorscheme": "monokai-dark"
```

**Checklist:**
- [ ] gitStatus shows branch in statusbar
- [ ] detectindent matches file indentation
- [ ] monokai-dark theme applied

---

### 2.6 Add Git Aliases
**Time:** 10 minutes

```bash
# Add to ~/.gitconfig
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.df diff
git config --global alias.lg "log --oneline --graph --decorate -20"
git config --global alias.unstage "reset HEAD --"
git config --global alias.last "log -1 HEAD"
```

**Checklist:**
- [ ] `git st` shows status
- [ ] `git lg` shows nice log
- [ ] All aliases work

---

### Phase 2 Verification Checklist

```bash
echo "=== Phase 2 Verification ==="
[ -f ~/.tmux.conf ] && echo "✓ tmux config" || echo "✗ tmux config"
[ -d ~/.tmux/plugins/tpm ] && echo "✓ TPM installed" || echo "✗ TPM installed"
ya pkg list | grep -q lazygit && echo "✓ lazygit.yazi" || echo "✗ lazygit.yazi"
[ -f ~/.config/yazi/keymap.toml ] && echo "✓ yazi keymap" || echo "✗ yazi keymap"
[ -f ~/.fzf-git.sh ] && echo "✓ fzf-git.sh" || echo "✗ fzf-git.sh"
command -v bash-language-server && echo "✓ bash-lsp" || echo "✗ bash-lsp"
ls ~/.config/micro/plug | grep -q gitstatus && echo "✓ micro gitstatus" || echo "✗ micro gitstatus"
git config --get alias.st && echo "✓ git aliases" || echo "✗ git aliases"
```

---

## Phase 3: Advanced Features (Week 2)

**Objective:** Add specialized plugins and additional tools

### 3.1 Install Additional Tools
**Time:** 15 minutes

```bash
# JSON/YAML processing
sudo apt install jq
sudo snap install yq

# Modern alternatives
cargo install eza
sudo apt install fd-find

# Verify
jq --version
yq --version
eza --version
fdfind --version
```

---

### 3.2 Create Shell Aliases
**Time:** 10 minutes

```bash
cat >> ~/.bashrc << 'EOF'

# Modern tool aliases
alias cat='bat --paging=never'
alias ls='eza --icons --group-directories-first'
alias ll='eza -la --icons --group-directories-first --git'
alias tree='eza --tree --icons --level=2'
alias find='fdfind'

# Git shortcuts
alias g='git'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gd='git diff'
alias gs='git status'
alias gl='git lg'

# Quick navigation
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
EOF

source ~/.bashrc
```

---

### 3.3 Install Yazi Enhancement Plugins
**Time:** 15 minutes

```bash
# Bookmarks
ya pkg add yazi-rs/plugins:yamb

# Preview plugins
ya pkg add yazi-rs/plugins:duckdb
ya pkg add yazi-rs/plugins:mediainfo

# Update keymap for bookmarks
cat >> ~/.config/yazi/keymap.toml << 'EOF'

# Bookmarks (yamb)
[[manager.prepend_keymap]]
on   = ["m"]
run  = "plugin yamb --args=save"
desc = "Save bookmark"

[[manager.prepend_keymap]]
on   = ["'"]
run  = "plugin yamb --args=jump"
desc = "Jump to bookmark"
EOF
```

---

### 3.4 Install Additional Micro Plugins
**Time:** 10 minutes

```bash
micro -plugin install snippets
micro -plugin install aspell
micro -plugin install quickfix
micro -plugin install wc
```

---

### 3.5 Enhanced Glow Configuration
**Time:** 5 minutes

```bash
mkdir -p ~/.config/glow
cat > ~/.config/glow/glow.yml << 'EOF'
# Glow config
style: auto
local: false
mouse: true
pager: true
width: 100
EOF
```

---

### 3.6 Create Utility Shell Functions
**Time:** 15 minutes

```bash
cat >> ~/.bashrc << 'EOF'

# Utility functions
mkcd() { mkdir -p "$1" && cd "$1"; }

# Git worktree helper
gwt() {
    if [ -z "$1" ]; then
        git worktree list
    else
        git worktree add "../${PWD##*/}-$1" "$1"
    fi
}

# Quick file preview
p() {
    if [ -f "$1" ]; then
        bat "$1"
    elif [ -d "$1" ]; then
        eza -la --icons "$1"
    else
        echo "File not found: $1"
    fi
}

# fzf preview
fzfp() {
    fzf --preview 'bat --color=always --style=numbers --line-range=:500 {}'
}
EOF

source ~/.bashrc
```

---

### Phase 3 Verification

```bash
echo "=== Phase 3 Verification ==="
command -v jq && echo "✓ jq" || echo "✗ jq"
command -v yq && echo "✓ yq" || echo "✗ yq"
command -v eza && echo "✓ eza" || echo "✗ eza"
command -v fdfind && echo "✓ fd" || echo "✗ fd"
ya pkg list | grep -q yamb && echo "✓ yamb" || echo "✗ yamb"
ls ~/.config/micro/plug | grep -q snippets && echo "✓ snippets" || echo "✗ snippets"
[ -f ~/.config/glow/glow.yml ] && echo "✓ glow config" || echo "✗ glow config"
```

---

## Phase 4: Polish & Optimize (Week 3+)

**Objective:** Fine-tune configuration and add optional enhancements

### 4.1 Optional: Starship Prompt
```bash
curl -sS https://starship.rs/install.sh | sh
echo 'eval "$(starship init bash)"' >> ~/.bashrc
```

### 4.2 Optional: Custom Yazi Theme
Create `~/.config/yazi/theme.toml` with preferred colors.

### 4.3 Optional: Additional tmux Plugins
- tmux-yank for clipboard
- tmux-prefix-highlight for visual feedback

### 4.4 Optional: System Monitoring Tools
```bash
sudo apt install btop duf
cargo install dust
```

### 4.5 Create Config Backup Script
```bash
cat > ~/backup-configs.sh << 'EOF'
#!/bin/bash
BACKUP_DIR=~/config-backup-$(date +%Y%m%d)
mkdir -p "$BACKUP_DIR"
cp -r ~/.config/yazi "$BACKUP_DIR/"
cp -r ~/.config/micro "$BACKUP_DIR/"
cp -r ~/.config/glow "$BACKUP_DIR/"
cp ~/.tmux.conf "$BACKUP_DIR/"
cp ~/.bashrc "$BACKUP_DIR/"
cp ~/.gitconfig "$BACKUP_DIR/"
echo "Backed up to $BACKUP_DIR"
EOF
chmod +x ~/backup-configs.sh
```

---

## Complete Roadmap Timeline

```
Week 1
├── Day 1: Phase 1 (Critical Fixes) ────────────────── 1 hour
│   ├── Install lazygit, bat, delta, zoxide
│   ├── Enable fzf shell integration
│   ├── Configure delta as git pager
│   ├── Fix yazi git plugin
│   └── Enable micro diffgutter
│
├── Day 2-3: Phase 2 (Core Enhancements) ───────────── 2-3 hours
│   ├── Create tmux configuration + TPM
│   ├── Install yazi plugins
│   ├── Add fzf-git integration
│   ├── Expand micro LSP + plugins
│   └── Add git aliases
│
Week 2
├── Day 4-5: Phase 3 (Advanced Features) ───────────── 2-3 hours
│   ├── Install additional tools (jq, yq, eza, fd)
│   ├── Create shell aliases and functions
│   ├── Install remaining yazi plugins
│   ├── Configure glow
│   └── Add utility functions
│
Week 3+
└── Ongoing: Phase 4 (Polish) ──────────────────────── 1-2 hours
    ├── Optional: starship prompt
    ├── Optional: custom themes
    ├── Optional: additional monitoring tools
    └── Create backup script
```

---

## Success Criteria

### Phase 1 Complete When:
- [ ] All 4 essential tools installed and working
- [ ] fzf Ctrl-R/T/Alt-C functional
- [ ] git diff shows delta output
- [ ] yazi shows git status icons
- [ ] micro shows diff gutter

### Phase 2 Complete When:
- [ ] tmux sessions persist across restarts
- [ ] Ctrl-G opens lazygit from yazi
- [ ] fzf-git shortcuts work
- [ ] micro has multi-language LSP
- [ ] git aliases configured

### Phase 3 Complete When:
- [ ] All modern CLI tools installed
- [ ] Shell aliases configured
- [ ] Bookmark system working in yazi
- [ ] All micro plugins installed
- [ ] Utility functions available

### Phase 4 Complete When:
- [ ] All optional enhancements evaluated
- [ ] Configuration backed up
- [ ] Custom themes applied (if desired)
- [ ] Workflow fully optimized

---

## Quick Reference Card

After completing all phases:

| Action | Shortcut |
|--------|----------|
| Fuzzy history | Ctrl-R |
| Fuzzy files | Ctrl-T |
| Fuzzy cd | Alt-C |
| Jump to dir | z dirname |
| Interactive jump | zi |
| Git branches | Ctrl-G b |
| Git commits | Ctrl-G c |
| Git TUI (yazi) | Ctrl-G |
| Git TUI (shell) | lazygit |
| Save bookmark | m (in yazi) |
| Jump bookmark | ' (in yazi) |
| tmux prefix | Ctrl-A |
| tmux save session | prefix + Ctrl-S |
| tmux restore | prefix + Ctrl-R |

---

**Generated:** 2024-12-24
**Total Implementation Time:** 6-9 hours
**Recommended Pace:** 2-4 weeks
