# 4.4 Implementation Checklist

A comprehensive, step-by-step checklist for implementing all TUI workflow enhancements.

---

## Pre-Implementation Checklist

### Backup Current Configuration

- [ ] Create backup directory: `mkdir -p ~/config-backup-$(date +%Y%m%d)`
- [ ] Backup ~/.bashrc
- [ ] Backup ~/.gitconfig
- [ ] Backup ~/.tmux.conf (if exists)
- [ ] Backup ~/.config/micro/
- [ ] Backup ~/.config/yazi/
- [ ] Backup ~/.config/glow/ (if exists)

**One-liner backup:**
```bash
BACKUP=~/config-backup-$(date +%Y%m%d) && mkdir -p $BACKUP && cp ~/.bashrc ~/.gitconfig $BACKUP/ 2>/dev/null; cp -r ~/.config/{micro,yazi,glow} $BACKUP/ 2>/dev/null; echo "Backed up to $BACKUP"
```

---

## Phase 1: Critical Fixes (Day 1)

**Estimated Time:** 1 hour

### 1.1 Install Missing Essential Tools

- [ ] **Install lazygit**
  ```bash
  sudo apt install lazygit
  ```
  - [ ] Verify: `lazygit --version`

- [ ] **Install bat**
  ```bash
  sudo apt install bat
  ```
  - [ ] Verify: `batcat --version`
  - [ ] Add alias: `echo "alias bat='batcat'" >> ~/.bashrc`

- [ ] **Install delta**
  ```bash
  cargo install git-delta
  ```
  - [ ] Verify: `delta --version`

- [ ] **Install zoxide**
  ```bash
  sudo apt install zoxide
  ```
  - [ ] Verify: `zoxide --version`

### 1.2 Enable fzf Shell Integration

- [ ] **Add to ~/.bashrc:**
  ```bash
  source /usr/share/doc/fzf/examples/key-bindings.bash
  source /usr/share/doc/fzf/examples/completion.bash
  ```
- [ ] **Apply:** `source ~/.bashrc`
- [ ] **Test Ctrl-R:** Fuzzy history search appears
- [ ] **Test Ctrl-T:** Fuzzy file finder appears
- [ ] **Test Alt-C:** Fuzzy directory navigation appears

### 1.3 Configure Delta as Git Pager

- [ ] **Run git config commands:**
  ```bash
  git config --global core.pager delta
  git config --global interactive.diffFilter "delta --color-only"
  git config --global delta.navigate true
  git config --global delta.side-by-side true
  git config --global delta.syntax-theme "Monokai Extended"
  ```
- [ ] **Test:** `git diff` shows syntax-highlighted output

### 1.4 Fix Yazi Git Plugin

- [ ] **Append to ~/.config/yazi/yazi.toml:**
  ```toml
  [[plugin.prepend_fetchers]]
  id   = "git"
  name = "*"
  run  = "git"

  [[plugin.prepend_fetchers]]
  id   = "git"
  name = "*/"
  run  = "git"
  ```
- [ ] **Test:** Open yazi in git repo, files show M/? status

### 1.5 Enable Micro Git Integration

- [ ] **Update ~/.config/micro/settings.json:**
  ```json
  {
      "diffgutter": true,
      "hltrailingws": true
  }
  ```
- [ ] **Test:** Open modified file, see diff markers in gutter

### 1.6 Initialize Zoxide

- [ ] **Add to ~/.bashrc:**
  ```bash
  eval "$(zoxide init bash)"
  ```
- [ ] **Apply:** `source ~/.bashrc`
- [ ] **Test:** `z` command available, `zi` shows interactive selection

### Phase 1 Verification

```bash
echo "=== Phase 1 Verification ==="
command -v lazygit && echo "✓ lazygit" || echo "✗ lazygit"
command -v batcat && echo "✓ bat" || echo "✗ bat"
command -v delta && echo "✓ delta" || echo "✗ delta"
command -v zoxide && echo "✓ zoxide" || echo "✗ zoxide"
grep -q "key-bindings.bash" ~/.bashrc && echo "✓ fzf integration" || echo "✗ fzf integration"
grep -q "zoxide init" ~/.bashrc && echo "✓ zoxide init" || echo "✗ zoxide init"
grep -q "delta" ~/.gitconfig 2>/dev/null && echo "✓ delta configured" || echo "✗ delta configured"
grep -q "prepend_fetchers" ~/.config/yazi/yazi.toml 2>/dev/null && echo "✓ yazi git" || echo "✗ yazi git"
grep -q "diffgutter" ~/.config/micro/settings.json 2>/dev/null && echo "✓ micro diffgutter" || echo "✗ micro diffgutter"
```

**Phase 1 Complete:** [ ]

---

## Phase 2: Core Enhancements (Week 1)

**Estimated Time:** 2-3 hours

### 2.1 Create tmux Configuration

- [ ] **Install TPM:**
  ```bash
  git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
  ```

- [ ] **Create ~/.tmux.conf:**
  ```bash
  # Prefix key
  set -g prefix C-a
  unbind C-b
  bind C-a send-prefix

  # Mouse support
  set -g mouse on

  # Better defaults
  set -g history-limit 50000
  set -g base-index 1
  setw -g pane-base-index 1
  set -g renumber-windows on
  set -s escape-time 0

  # Colors
  set -g default-terminal "screen-256color"
  set -ga terminal-overrides ",*256col*:Tc"

  # Status bar
  set -g status-position top
  set -g status-style 'bg=#333333 fg=#ffffff'
  set -g status-left '#[fg=green]#S '
  set -g status-right '#[fg=cyan]%H:%M'

  # Plugins
  set -g @plugin 'tmux-plugins/tpm'
  set -g @plugin 'tmux-plugins/tmux-sensible'
  set -g @plugin 'tmux-plugins/tmux-resurrect'
  set -g @plugin 'tmux-plugins/tmux-continuum'

  set -g @continuum-restore 'on'

  run '~/.tmux/plugins/tpm/tpm'
  ```

- [ ] **Reload tmux:** `tmux source ~/.tmux.conf`
- [ ] **Install plugins:** Press `Ctrl-a + I`
- [ ] **Test:** Sessions persist after `tmux kill-server && tmux`

### 2.2 Install Yazi Plugins

- [ ] **Install lazygit.yazi:**
  ```bash
  ya pkg add yazi-rs/plugins:lazygit
  ```

- [ ] **Install smart-enter.yazi:**
  ```bash
  ya pkg add yazi-rs/plugins:smart-enter
  ```

- [ ] **Install yamb.yazi:**
  ```bash
  ya pkg add yazi-rs/plugins:yamb
  ```

- [ ] **Create ~/.config/yazi/keymap.toml:**
  ```toml
  [[manager.prepend_keymap]]
  on   = ["<C-g>"]
  run  = "plugin lazygit"
  desc = "Open lazygit"

  [[manager.prepend_keymap]]
  on   = ["<C-e>"]
  run  = "seek 5"
  desc = "Scroll preview down"

  [[manager.prepend_keymap]]
  on   = ["<C-y>"]
  run  = "seek -5"
  desc = "Scroll preview up"

  [[manager.prepend_keymap]]
  on   = ["l"]
  run  = "plugin smart-enter"
  desc = "Smart enter"
  ```

- [ ] **Test Ctrl-G:** Opens lazygit from yazi
- [ ] **Test smart enter:** Works for archives

### 2.3 Add fzf-git Integration

- [ ] **Download fzf-git.sh:**
  ```bash
  curl -o ~/.fzf-git.sh https://raw.githubusercontent.com/junegunn/fzf-git.sh/main/fzf-git.sh
  ```

- [ ] **Add to ~/.bashrc:**
  ```bash
  [ -f ~/.fzf-git.sh ] && source ~/.fzf-git.sh
  ```

- [ ] **Apply:** `source ~/.bashrc`
- [ ] **Test Ctrl-G b:** Fuzzy branch selection
- [ ] **Test Ctrl-G c:** Fuzzy commit selection

### 2.4 Expand Micro LSP Support

- [ ] **Install bash-language-server:**
  ```bash
  npm install -g bash-language-server
  ```

- [ ] **Update ~/.config/micro/settings.json:**
  ```json
  {
      "lsp.server": "python=pylsp,sh=bash-language-server,json=deno lsp,markdown=deno lsp",
      "lsp.autocompleteDetails": true,
      "lsp.formatOnSave": true,
      "diffgutter": true,
      "hltrailingws": true,
      "rmtrailingws": true,
      "savecursor": true,
      "saveundo": true
  }
  ```

- [ ] **Test:** LSP works for .sh files

### 2.5 Install Micro Plugins

- [ ] **Install gitStatus:**
  ```bash
  micro -plugin install gitstatus
  ```

- [ ] **Install detectindent:**
  ```bash
  micro -plugin install detectindent
  ```

- [ ] **Install monokai-dark:**
  ```bash
  micro -plugin install monokai-dark
  ```

- [ ] **Add colorscheme to settings.json:** `"colorscheme": "monokai-dark"`
- [ ] **Test:** gitStatus shows branch in statusbar

### 2.6 Add Git Aliases

- [ ] **Run alias commands:**
  ```bash
  git config --global alias.st status
  git config --global alias.co checkout
  git config --global alias.br branch
  git config --global alias.ci commit
  git config --global alias.df diff
  git config --global alias.lg "log --oneline --graph --decorate -20"
  git config --global alias.unstage "reset HEAD --"
  git config --global alias.last "log -1 HEAD"
  ```

- [ ] **Test:** `git st` shows status, `git lg` shows pretty log

### Phase 2 Verification

```bash
echo "=== Phase 2 Verification ==="
[ -f ~/.tmux.conf ] && echo "✓ tmux config" || echo "✗ tmux config"
[ -d ~/.tmux/plugins/tpm ] && echo "✓ TPM installed" || echo "✗ TPM installed"
ya pkg list 2>/dev/null | grep -q lazygit && echo "✓ lazygit.yazi" || echo "✗ lazygit.yazi"
[ -f ~/.config/yazi/keymap.toml ] && echo "✓ yazi keymap" || echo "✗ yazi keymap"
[ -f ~/.fzf-git.sh ] && echo "✓ fzf-git.sh" || echo "✗ fzf-git.sh"
command -v bash-language-server >/dev/null && echo "✓ bash-lsp" || echo "✗ bash-lsp"
[ -d ~/.config/micro/plug/gitstatus ] && echo "✓ micro gitstatus" || echo "✗ micro gitstatus"
git config --get alias.st >/dev/null && echo "✓ git aliases" || echo "✗ git aliases"
```

**Phase 2 Complete:** [ ]

---

## Phase 3: Advanced Features (Week 2)

**Estimated Time:** 2-3 hours

### 3.1 Install Additional Tools

- [ ] **Install jq:**
  ```bash
  sudo apt install jq
  ```

- [ ] **Install eza:**
  ```bash
  cargo install eza
  ```

- [ ] **Install fd:**
  ```bash
  sudo apt install fd-find
  ```

- [ ] **Verify installations**

### 3.2 Create Shell Aliases

- [ ] **Add to ~/.bashrc:**
  ```bash
  # Modern tool aliases
  alias cat='batcat --paging=never'
  alias ls='eza --icons --group-directories-first'
  alias ll='eza -la --icons --group-directories-first --git'
  alias tree='eza --tree --icons --level=2'
  alias find='fdfind'

  # Git shortcuts
  alias g='git'
  alias ga='git add'
  alias gc='git commit'
  alias gp='git push'
  alias gd='git diff'
  alias gs='git status'
  alias gl='git lg'
  alias lg='lazygit'

  # Navigation
  alias ..='cd ..'
  alias ...='cd ../..'
  alias ....='cd ../../..'
  ```

- [ ] **Apply:** `source ~/.bashrc`

### 3.3 Install Additional Yazi Plugins

- [ ] **Install ouch.yazi (if ouch installed):**
  ```bash
  cargo install ouch
  ya pkg add yazi-rs/plugins:ouch
  ```

- [ ] **Add bookmark keybindings to keymap.toml:**
  ```toml
  [[manager.prepend_keymap]]
  on   = ["m"]
  run  = "plugin yamb --args=save"
  desc = "Save bookmark"

  [[manager.prepend_keymap]]
  on   = ["'"]
  run  = "plugin yamb --args=jump"
  desc = "Jump to bookmark"
  ```

### 3.4 Install Additional Micro Plugins

- [ ] **Install snippets:**
  ```bash
  micro -plugin install snippets
  ```

- [ ] **Install quickfix:**
  ```bash
  micro -plugin install quickfix
  ```

### 3.5 Create Glow Configuration

- [ ] **Create ~/.config/glow/glow.yml:**
  ```yaml
  style: auto
  local: true
  mouse: true
  pager: true
  width: 100
  ```

### 3.6 Create Utility Functions

- [ ] **Add to ~/.bashrc:**
  ```bash
  # Utility functions
  mkcd() { mkdir -p "$1" && cd "$1"; }

  # Quick file preview
  p() {
      if [ -f "$1" ]; then
          batcat "$1"
      elif [ -d "$1" ]; then
          eza -la --icons "$1"
      else
          echo "File not found: $1"
      fi
  }

  # fzf preview
  fzfp() {
      fzf --preview 'batcat --color=always --style=numbers --line-range=:500 {}'
  }
  ```

### Phase 3 Verification

```bash
echo "=== Phase 3 Verification ==="
command -v jq && echo "✓ jq" || echo "✗ jq"
command -v eza && echo "✓ eza" || echo "✗ eza"
command -v fdfind && echo "✓ fd" || echo "✗ fd"
[ -d ~/.config/micro/plug/snippets ] && echo "✓ snippets" || echo "✗ snippets"
[ -f ~/.config/glow/glow.yml ] && echo "✓ glow config" || echo "✗ glow config"
```

**Phase 3 Complete:** [ ]

---

## Phase 4: Polish & Optimize (Week 3+)

**Estimated Time:** 1-2 hours

### 4.1 Optional: Starship Prompt

- [ ] **Install starship:**
  ```bash
  curl -sS https://starship.rs/install.sh | sh
  ```

- [ ] **Add to ~/.bashrc:**
  ```bash
  eval "$(starship init bash)"
  ```

### 4.2 Optional: Additional tmux Plugins

- [ ] **Add to ~/.tmux.conf:**
  ```bash
  set -g @plugin 'tmux-plugins/tmux-yank'
  set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
  ```

- [ ] **Install:** `prefix + I`

### 4.3 Create Config Backup Script

- [ ] **Create ~/backup-configs.sh:**
  ```bash
  #!/bin/bash
  BACKUP_DIR=~/config-backup-$(date +%Y%m%d)
  mkdir -p "$BACKUP_DIR"
  cp -r ~/.config/yazi "$BACKUP_DIR/"
  cp -r ~/.config/micro "$BACKUP_DIR/"
  cp -r ~/.config/glow "$BACKUP_DIR/" 2>/dev/null
  cp ~/.tmux.conf "$BACKUP_DIR/"
  cp ~/.bashrc "$BACKUP_DIR/"
  cp ~/.gitconfig "$BACKUP_DIR/"
  echo "Backed up to $BACKUP_DIR"
  ```

- [ ] **Make executable:** `chmod +x ~/backup-configs.sh`

**Phase 4 Complete:** [ ]

---

## Final Verification

### Complete System Check

```bash
#!/bin/bash
echo "=========================================="
echo "TUI Workflow Implementation Check"
echo "=========================================="

echo ""
echo "--- Tools ---"
for cmd in lazygit batcat delta zoxide jq eza fdfind; do
    command -v $cmd >/dev/null && echo "✓ $cmd" || echo "✗ $cmd"
done

echo ""
echo "--- Shell Integration ---"
grep -q "key-bindings.bash" ~/.bashrc && echo "✓ fzf keybindings" || echo "✗ fzf keybindings"
grep -q "zoxide init" ~/.bashrc && echo "✓ zoxide init" || echo "✗ zoxide init"
[ -f ~/.fzf-git.sh ] && echo "✓ fzf-git.sh" || echo "✗ fzf-git.sh"

echo ""
echo "--- Git ---"
grep -q "delta" ~/.gitconfig && echo "✓ delta pager" || echo "✗ delta pager"
git config --get alias.st >/dev/null && echo "✓ git aliases" || echo "✗ git aliases"

echo ""
echo "--- tmux ---"
[ -f ~/.tmux.conf ] && echo "✓ tmux.conf" || echo "✗ tmux.conf"
[ -d ~/.tmux/plugins/tpm ] && echo "✓ TPM" || echo "✗ TPM"

echo ""
echo "--- Yazi ---"
grep -q "prepend_fetchers" ~/.config/yazi/yazi.toml 2>/dev/null && echo "✓ git fetcher" || echo "✗ git fetcher"
[ -f ~/.config/yazi/keymap.toml ] && echo "✓ keymap" || echo "✗ keymap"
ya pkg list 2>/dev/null | grep -q lazygit && echo "✓ lazygit plugin" || echo "✗ lazygit plugin"

echo ""
echo "--- Micro ---"
grep -q "diffgutter" ~/.config/micro/settings.json 2>/dev/null && echo "✓ diffgutter" || echo "✗ diffgutter"
[ -d ~/.config/micro/plug/gitstatus ] && echo "✓ gitstatus plugin" || echo "✗ gitstatus plugin"

echo ""
echo "=========================================="
```

---

## Quick Reference After Implementation

| Action | Command/Shortcut |
|--------|------------------|
| Fuzzy history | Ctrl-R |
| Fuzzy files | Ctrl-T |
| Fuzzy cd | Alt-C |
| Smart jump | z dirname |
| Interactive jump | zi |
| Git branches | Ctrl-G b |
| Git commits | Ctrl-G c |
| Git TUI (yazi) | Ctrl-G |
| Git TUI (shell) | lazygit or lg |
| Save bookmark | m (in yazi) |
| Jump bookmark | ' (in yazi) |
| tmux prefix | Ctrl-A |
| tmux save session | prefix + Ctrl-S |
| tmux restore | prefix + Ctrl-R |
| Pretty git log | git lg |
| Git status | git st or gs |

---

## Troubleshooting

### fzf keybindings not working
```bash
# Check if files exist
ls /usr/share/doc/fzf/examples/
# If missing, reinstall fzf or find correct path
```

### zoxide not learning directories
```bash
# Check if zoxide database exists
ls ~/.local/share/zoxide/
# Navigate to a few directories to populate
```

### Yazi git status not showing
```bash
# Verify fetcher configuration
grep -A4 "prepend_fetchers" ~/.config/yazi/yazi.toml
# Restart yazi
```

### tmux plugins not installing
```bash
# Manually install
~/.tmux/plugins/tpm/bin/install_plugins
```

---

**Generated:** 2024-12-24
**Total Tasks:** 50+
**Estimated Total Time:** 6-9 hours
