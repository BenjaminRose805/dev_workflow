# 3.2 Integration Opportunities Between Tools

This document identifies opportunities to connect TUI tools into a cohesive, integrated development workflow.

## Current Integration State

```
                    ┌─────────────┐
                    │    shell    │
                    │   (bash)    │
                    └──────┬──────┘
                           │
              ┌────────────┼────────────┐
              │            │            │
              ▼            ▼            ▼
        ┌─────────┐  ┌─────────┐  ┌─────────┐
        │  yazi   │  │  micro  │  │   git   │
        │   ◄─────┼──│   ◄─────┼──│         │
        └────┬────┘  └────┬────┘  └────┬────┘
             │            │            │
             │   glow     │   pylsp    │   (delta)
             │   git.yazi │   fzf      │   (lazygit)
             ▼            ▼            ▼
        ┌─────────┐  ┌─────────┐  ┌─────────┐
        │ plugins │  │ plugins │  │ (tools) │
        └─────────┘  └─────────┘  └─────────┘

        ┌─────────┐
        │  tmux   │  ← ISOLATED (no integrations)
        └─────────┘
```

**Current Integration Count:** 7 working integrations
**Missing Integrations:** 12+ opportunities identified

---

## Integration Opportunities by Category

### 1. Git Workflow Integrations (HIGH PRIORITY)

These integrations connect git operations across all tools for a seamless version control experience.

#### 1.1 fzf ↔ git: Git-Aware Fuzzy Finding
**Status:** NOT CONFIGURED
**Impact:** HIGH
**Components:**
- fzf-git.sh shell functions for fuzzy git operations
- Ctrl-G shortcuts for branches, commits, tags, remotes, stashes

**Implementation:**
```bash
# Add to .bashrc
source /path/to/fzf-git.sh
# Provides: Ctrl-G b (branches), Ctrl-G c (commits), Ctrl-G f (files)
```

**Benefits:**
- Fuzzy search git branches instead of typing names
- Interactive commit selection for cherry-pick/revert
- Quick access to changed files

#### 1.2 yazi ↔ lazygit: Git TUI from File Manager
**Status:** NOT CONFIGURED
**Impact:** HIGH
**Plugin:** lazygit.yazi

**Implementation:**
```bash
ya pkg add yazi-rs/plugins:lazygit
```

Then add to keymap.toml:
```toml
[[manager.prepend_keymap]]
on   = ["<C-g>"]
run  = "plugin lazygit"
desc = "Open lazygit"
```

**Benefits:**
- Access full git TUI without leaving yazi
- Seamless transition between file browsing and version control
- Single keybinding (Ctrl-G) for git operations

#### 1.3 micro ↔ git: Visual Git Status in Editor
**Status:** PARTIALLY WORKING (diffgutter disabled)
**Impact:** HIGH
**Components:**
- Built-in diffgutter (needs enabling)
- gitStatus plugin (not installed)

**Implementation:**
```json
// settings.json
{
  "diffgutter": true
}
```

Plus install gitStatus:
```bash
micro -plugin install gitstatus
```

**Benefits:**
- See which lines changed since last commit
- Branch info in status bar
- Git blame integration

#### 1.4 git ↔ delta: Enhanced Diff Output
**Status:** NOT INSTALLED
**Impact:** HIGH

**Implementation:**
```bash
sudo apt install delta
# or: cargo install git-delta

# Add to .gitconfig
[core]
    pager = delta
[interactive]
    diffFilter = delta --color-only
[delta]
    navigate = true
    side-by-side = true
    syntax-theme = Monokai Extended
```

**Benefits:**
- Syntax-highlighted diffs
- Side-by-side comparison
- Better merge conflict visualization

---

### 2. Shell Workflow Integrations (HIGH PRIORITY)

These integrations enhance the shell experience with better navigation and search.

#### 2.1 fzf ↔ shell: Shell Keybindings
**Status:** NOT CONFIGURED
**Impact:** CRITICAL

**Implementation:**
```bash
# Add to .bashrc
source /usr/share/doc/fzf/examples/key-bindings.bash
source /usr/share/doc/fzf/examples/completion.bash
```

**Provides:**
- **Ctrl-R**: Fuzzy history search (replaces default)
- **Ctrl-T**: Fuzzy file search in current directory
- **Alt-C**: Fuzzy directory navigation

**Benefits:**
- 10x faster history search
- Instant file finding
- Quick directory jumping

#### 2.2 zoxide ↔ shell: Smart Directory Jump
**Status:** NOT INSTALLED
**Impact:** HIGH

**Implementation:**
```bash
sudo apt install zoxide
# Add to .bashrc
eval "$(zoxide init bash)"
```

**Usage:**
```bash
z projects    # Jump to most frequent "projects" directory
z dev work    # Jump to directory matching both "dev" and "work"
zi            # Interactive selection with fzf
```

**Benefits:**
- Learns from your cd patterns
- Frecency-based ranking (frequency + recency)
- Eliminates typing long paths

#### 2.3 yazi ↔ zoxide: Frecency Navigation in File Manager
**Status:** NOT CONFIGURED
**Impact:** MEDIUM
**Requires:** zoxide installed

**Built-in Support:** Yazi has native zoxide integration

**Implementation:**
Add to keymap.toml:
```toml
[[manager.prepend_keymap]]
on   = ["z"]
run  = "plugin zoxide"
desc = "Jump via zoxide"
```

**Benefits:**
- Jump to frequent directories from within yazi
- Unified navigation experience

---

### 3. Editor Integrations (MEDIUM PRIORITY)

These integrations connect the micro editor with other tools.

#### 3.1 micro ↔ yazi: Bidirectional Navigation
**Status:** ONE-WAY (yazi→micro works, micro→yazi doesn't)
**Impact:** MEDIUM

**Current State:**
- yazi opens files in micro via $EDITOR ✓
- micro has filemanager plugin but not configured for yazi

**Implementation Options:**

Option A: Use built-in filemanager plugin
```
:tree    # Opens file tree in micro
```

Option B: Add yazi opener command
```json
// bindings.json
{
    "Alt-y": "command-edit:!yazi ."
}
```

**Benefits:**
- Browse files from within editor
- Quick project navigation without shell

#### 3.2 micro ↔ fzf: Enhanced File Finding
**Status:** WORKING (fzf plugin installed)
**Enhancement:** Improve with ripgrep

**Current:** `:fzf` opens fuzzy file finder

**Enhancement:**
```json
// bindings.json
{
    "Ctrl-p": "command:fzf"
}
```

Add ripgrep integration for content search:
```bash
# Custom command in micro
:term rg -l "pattern" | fzf
```

#### 3.3 micro ↔ LSP: Multi-Language Support
**Status:** PARTIALLY CONFIGURED (Python only)
**Impact:** HIGH

**Implementation:**
```json
// settings.json
{
    "lsp.server": "python=pylsp,sh=bash-language-server,json=deno lsp,markdown=deno lsp,javascript=deno lsp,typescript=deno lsp"
}
```

**Requirements:**
```bash
npm install -g bash-language-server
# Deno already provides JSON/Markdown/JS/TS LSP
```

---

### 4. tmux Integrations (MEDIUM PRIORITY)

tmux is currently isolated with no integrations. This is a major gap.

#### 4.1 tmux ↔ TPM: Plugin Management
**Status:** NOT CONFIGURED
**Impact:** MEDIUM

**Implementation:**
```bash
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
```

Add to ~/.tmux.conf:
```
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

run '~/.tmux/plugins/tpm/tpm'
```

**Benefits:**
- Session persistence across reboots
- Sensible default settings
- Easy plugin installation

#### 4.2 tmux ↔ shell: Status Line Integration
**Status:** NOT CONFIGURED
**Impact:** LOW

**Implementation:** Custom status line with git info, directory, etc.

```
set -g status-right '#(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD 2>/dev/null)'
```

#### 4.3 tmux ↔ yazi: Session-Aware File Management
**Status:** NOT AVAILABLE
**Impact:** LOW

**Concept:** Open yazi in tmux popup or dedicated pane

```
bind-key f popup -E -w 80% -h 80% yazi
```

---

### 5. Markdown Workflow Integrations (LOW PRIORITY)

#### 5.1 glow ↔ shell: Quick Viewing Function
**Status:** NOT CONFIGURED
**Impact:** LOW

**Implementation:**
```bash
# Add to .bashrc
plan-view() {
    glow -w 100 "$1"
}
alias plans='glow -p docs/plans/*.md'
```

#### 5.2 yazi ↔ glow: Already Working ✓
Markdown preview via glow.yazi plugin is functional.

---

## Integration Dependency Map

```
                  ┌──────────────────────────────────┐
                  │        SHELL (bash)              │
                  │  ┌────────┐  ┌────────┐         │
                  │  │  fzf   │◄─┤zoxide  │         │
                  │  │shell   │  └────────┘         │
                  │  └───┬────┘                     │
                  └──────┼──────────────────────────┘
                         │
     ┌───────────────────┼───────────────────┐
     │                   │                   │
     ▼                   ▼                   ▼
┌─────────┐        ┌─────────┐        ┌─────────┐
│  yazi   │◄───────│  micro  │        │   git   │
│         │        │         │        │         │
│┌───────┐│        │┌───────┐│        │┌───────┐│
││lazygit││        ││  lsp  ││        ││delta  ││
││zoxide ││        ││diffgut││        ││lazygit││
│└───────┘│        │└───────┘│        │└───────┘│
└─────────┘        └─────────┘        └─────────┘
     │                   │                   │
     └───────────────────┼───────────────────┘
                         │
                    ┌────▼────┐
                    │  tmux   │
                    │┌───────┐│
                    ││TPM    ││
                    ││resume ││
                    │└───────┘│
                    └─────────┘
```

---

## Prioritized Integration Roadmap

### Phase 1: Essential Integrations (1 hour)
| Integration | Components | Time |
|-------------|------------|------|
| fzf ↔ shell | Source key-bindings.bash | 5 min |
| git ↔ delta | Install + configure .gitconfig | 10 min |
| micro ↔ git | Enable diffgutter | 2 min |
| yazi ↔ git | Fix fetcher config | 5 min |

### Phase 2: Enhanced Workflow (1 hour)
| Integration | Components | Time |
|-------------|------------|------|
| zoxide ↔ shell | Install + init | 5 min |
| fzf ↔ git | Add fzf-git.sh functions | 15 min |
| yazi ↔ lazygit | Install plugin + keymap | 10 min |
| micro ↔ LSP | Add more language servers | 10 min |

### Phase 3: Full Ecosystem (2 hours)
| Integration | Components | Time |
|-------------|------------|------|
| tmux ↔ TPM | Install TPM + plugins | 20 min |
| tmux ↔ session | Add resurrect/continuum | 10 min |
| yazi ↔ zoxide | Configure keybinding | 5 min |
| micro ↔ yazi | Add bidirectional navigation | 15 min |

---

## Expected Outcomes

### Before Integration
- Tools operate independently
- Context switching required between git CLI, file manager, editor
- No fuzzy finding in shell
- tmux is just a terminal multiplexer
- Repetitive navigation commands

### After Integration
- **Unified Git Workflow:** Visual staging from yazi → lazygit, inline diffs in micro, enhanced CLI diffs with delta
- **Smart Navigation:** zoxide + fzf everywhere - shell, yazi, micro
- **Seamless Editing:** Open files from yazi, browse from micro, git status visible in editor
- **Persistent Sessions:** tmux saves and restores complete development environment
- **Keyboard-Driven:** All common operations accessible via consistent keybindings

---

**Generated:** 2024-12-24
**Source:** 1.3 Tool Integrations, 1.4 Workflow Gaps, Phase 2 Analysis
