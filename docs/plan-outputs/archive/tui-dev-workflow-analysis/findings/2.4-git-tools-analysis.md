# 2.4 Git Tools Analysis

## Overview

### Tools Installed
| Tool | Version | Path | Status |
|------|---------|------|--------|
| git | 2.43.0 | /usr/bin/git | Installed |
| gh (GitHub CLI) | 2.83.1 (2025-11-13) | /usr/bin/gh | Installed |
| fzf | 0.44.1 (debian) | /usr/bin/fzf | Installed (can enhance git) |

### Tools NOT Installed
| Tool | Purpose | Priority |
|------|---------|----------|
| lazygit | TUI git client for staging, committing, branching | HIGH |
| tig | Text-mode interface for git (log viewer) | MEDIUM |
| delta | Syntax-highlighting pager for git diffs | HIGH |
| gitui | Rust-based alternative to lazygit | LOW |
| bat | Syntax-highlighted cat (useful for git diffs) | MEDIUM |

### Current Shell
- **Shell**: bash (5.2.21)
- **Location**: /usr/bin/bash

## Lazygit Configuration

**Status**: NOT INSTALLED

Lazygit is a simple terminal UI for git commands, written in Go. It provides:
- Interactive staging/unstaging of files and hunks
- Easy commit management with amending
- Branch management and checkout
- Stash management
- Merge conflict resolution
- Interactive rebase
- Cherry-picking
- Custom commands integration

**Installation Options**:
```bash
# Via apt (might be older version)
sudo apt install lazygit

# Via snap (recommended for latest version)
sudo snap install lazygit

# Via go install
go install github.com/jesseduffield/lazygit@latest
```

## Other Git TUI Tools

### tig (Text-mode Interface for Git)
**Status**: NOT INSTALLED

Features:
- Main view: show commit history
- Diff view: show file differences
- Log view: show git log output
- Tree view: browse repository tree
- Blame view: show blame for files
- Status view: show git status
- Stage view: interactive staging

**Installation**:
```bash
sudo apt install tig
```

### delta (Git Diff Pager)
**Status**: NOT INSTALLED

Features:
- Syntax highlighting for diffs
- Side-by-side diff view
- Line numbers
- Git style strings (syntax highlighting for git commands)
- File-path highlighting
- Hyperlinks to GitHub/GitLab
- Integration with git, diff-so-fancy

**Installation**:
```bash
# Download latest release from GitHub
wget https://github.com/dandavison/delta/releases/download/0.17.0/git-delta_0.17.0_amd64.deb
sudo dpkg -i git-delta_0.17.0_amd64.deb

# Or via cargo
cargo install git-delta
```

**Configuration** (add to ~/.gitconfig):
```ini
[core]
    pager = delta

[interactive]
    diffFilter = delta --color-only

[delta]
    navigate = true
    light = false
    side-by-side = true
    line-numbers = true

[merge]
    conflictstyle = diff3

[diff]
    colorMoved = default
```

### gitui (Rust Alternative to Lazygit)
**Status**: NOT INSTALLED

Features similar to lazygit but written in Rust for performance.
- Fast rendering
- Keyboard-driven interface
- Staging/unstaging
- Commit management
- Branch operations

**Installation**:
```bash
# Via snap
sudo snap install gitui

# Via cargo
cargo install gitui
```

**Comparison**: Lazygit is more mature and feature-rich, gitui is faster but less polished.

## Git Configuration

### Current ~/.gitconfig
```ini
[user]
    name = Benjamin Rose
    email = Benjamin.Rose805@gmail.com
```

**Status**: MINIMAL CONFIGURATION

### Missing Configurations
- No aliases defined
- No diff tool configured
- No merge tool configured
- No pager configured (using default)
- No color settings customized
- No credential helper configured

### Repository Configuration
Current repository (`/home/benjamin/tools/dev_workflow`):
- **Remote**: git@github.com:BenjaminRose805/dev_workflow.git (SSH)
- **Branch**: master
- **Hooks**: Only sample hooks present (no active hooks)

### GitHub CLI Configuration

**Config File**: ~/.config/gh/config.yml

Key settings:
```yaml
version: 1
git_protocol: https
prompt: enabled
spinner: enabled

aliases:
    co: pr checkout
```

**Extensions**: None installed

**Available Extensions** (gh extension install):
- `gh-dash`: Dashboard for PRs and issues
- `gh-poi`: Clean up old branches
- `gh-copilot`: GitHub Copilot CLI integration

## Integration Opportunities

### 1. Lazygit + FZF Integration
FZF is already installed and can be integrated with lazygit for:
- Fuzzy-finding commits
- Searching through files
- Interactive branch selection

**Configuration** (add to ~/.config/lazygit/config.yml):
```yaml
git:
  paging:
    colorArg: always
    pager: delta --dark --paging=never

customCommands:
  - key: '<c-f>'
    command: 'git log --oneline | fzf | cut -d " " -f 1'
    context: 'commits'
    description: 'Fuzzy find commit'
```

### 2. GitHub CLI + Git Workflow
Current gh setup is basic. Opportunities:
- Create PR templates
- Set up gh extension for better PR management
- Configure gh to work with lazygit custom commands

**Example lazygit custom command for PR creation**:
```yaml
customCommands:
  - key: 'P'
    command: 'gh pr create --web'
    context: 'global'
    description: 'Create PR in browser'

  - key: 'V'
    command: 'gh pr view --web'
    context: 'global'
    description: 'View PR in browser'
```

### 3. Git Aliases for Common Operations
Add to ~/.gitconfig:
```ini
[alias]
    # Shortcuts
    st = status -sb
    co = checkout
    br = branch
    ci = commit

    # Log aliases
    lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    lga = log --graph --all --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit

    # Useful commands
    unstage = reset HEAD --
    last = log -1 HEAD
    visual = !gitk

    # Show what changed
    changed = diff --name-status

    # Amend without editing message
    amend = commit --amend --no-edit

    # Interactive rebase
    rb = rebase -i

    # Undo last commit but keep changes
    undo = reset --soft HEAD^
```

### 4. Enhanced Diff and Merge Tools
Configure better diff viewing:

**With delta** (once installed):
```ini
[core]
    pager = delta

[interactive]
    diffFilter = delta --color-only

[delta]
    navigate = true
    side-by-side = true
    line-numbers = true
    syntax-theme = Monokai Extended
```

**Or with existing tools**:
```ini
[core]
    pager = less -R

[color]
    ui = auto

[color "branch"]
    current = yellow reverse
    local = yellow
    remote = green

[color "diff"]
    meta = yellow bold
    frag = magenta bold
    old = red bold
    new = green bold

[color "status"]
    added = green
    changed = yellow
    untracked = red
```

### 5. Git Hooks Integration
Currently only sample hooks exist. Opportunities:
- Pre-commit hook for linting
- Commit-msg hook for conventional commits
- Pre-push hook for running tests

**Example pre-commit hook**:
```bash
#!/bin/bash
# Run linter before commit
npm run lint || exit 1
```

### 6. Yazi + Git Integration
Yazi (already installed) can show git status in file browser.

**Check yazi config** for git integration:
```toml
[plugin]
prepend_fetchers = [
    { id = "git", name = "*", run = "git-status" },
]
```

## Recommendations

### HIGH Priority (Immediate Impact)

#### 1. Install lazygit
**Impact**: Dramatically improves git workflow efficiency
**Effort**: 5 minutes
**Benefits**:
- Interactive staging (stage specific lines/hunks visually)
- Quick branch switching and management
- Visual commit history
- Easy rebasing and cherry-picking
- Conflict resolution interface
- Works with existing git config

**Installation**:
```bash
sudo snap install lazygit
```

**Basic Config** (~/.config/lazygit/config.yml):
```yaml
git:
  paging:
    colorArg: always
    pager: less -R

  commit:
    signOff: false
    autoWrapCommitMessage: true
    autoWrapWidth: 72

gui:
  showIcons: true
  theme:
    lightTheme: false
    activeBorderColor:
      - green
      - bold
    inactiveBorderColor:
      - white

os:
  editPreset: 'micro'  # Use micro editor for commits
```

#### 2. Install delta (Git Diff Enhancer)
**Impact**: Much better diff readability
**Effort**: 10 minutes
**Benefits**:
- Syntax highlighting in diffs
- Side-by-side view option
- Line numbers for context
- Better merge conflict visualization
- Works with lazygit, tig, and git commands

**Installation**:
```bash
wget https://github.com/dandavison/delta/releases/download/0.17.0/git-delta_0.17.0_amd64.deb
sudo dpkg -i git-delta_0.17.0_amd64.deb
```

**Configuration** (add to ~/.gitconfig):
```ini
[core]
    pager = delta

[interactive]
    diffFilter = delta --color-only

[delta]
    navigate = true
    side-by-side = true
    line-numbers = true
    syntax-theme = Monokai Extended
    features = decorations

[delta "decorations"]
    commit-decoration-style = bold yellow box ul
    file-style = bold yellow ul
    file-decoration-style = none
    hunk-header-decoration-style = cyan box ul

[merge]
    conflictstyle = diff3

[diff]
    colorMoved = default
```

#### 3. Add Essential Git Aliases
**Impact**: Faster git commands from terminal
**Effort**: 5 minutes
**Benefits**:
- Shorter commands for common operations
- Better default log output
- Quick access to useful git features

**Add to ~/.gitconfig**:
```ini
[alias]
    st = status -sb
    co = checkout
    br = branch
    ci = commit
    lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    lga = log --graph --all --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    unstage = reset HEAD --
    amend = commit --amend --no-edit
    undo = reset --soft HEAD^
    changed = diff --name-status
```

### MEDIUM Priority (Enhanced Experience)

#### 4. Install tig (Git Log Viewer)
**Impact**: Better git history browsing from terminal
**Effort**: 2 minutes
**Benefits**:
- Interactive log viewing
- Blame viewing
- Tree browsing
- Complement to lazygit (different use case)

**Installation**:
```bash
sudo apt install tig
```

#### 5. Install bat (Syntax-Highlighted Cat)
**Impact**: Better file viewing, useful with git
**Effort**: 5 minutes
**Benefits**:
- Syntax highlighting for file viewing
- Git integration (shows modifications)
- Line numbers
- Pager integration

**Installation**:
```bash
sudo apt install bat
# Note: might be installed as 'batcat' on Ubuntu/Debian
```

**Add alias to ~/.bashrc**:
```bash
alias cat='batcat'
alias bat='batcat'
```

#### 6. Configure GitHub CLI Extensions
**Impact**: Better GitHub integration
**Effort**: 10 minutes
**Benefits**:
- Dashboard for PRs and issues
- Better PR workflow
- Integration with lazygit

**Installation**:
```bash
gh extension install dlvhdr/gh-dash
gh extension install seachicken/gh-poi
```

**Usage**:
```bash
gh dash           # Open PR/issue dashboard
gh poi            # Clean old branches
```

#### 7. Add Color Configuration to Git
**Impact**: Better visual git output
**Effort**: 5 minutes

**Add to ~/.gitconfig**:
```ini
[color]
    ui = auto
    branch = auto
    diff = auto
    status = auto

[color "branch"]
    current = yellow reverse
    local = yellow
    remote = green

[color "status"]
    added = green
    changed = yellow
    untracked = red
```

### LOW Priority (Nice to Have)

#### 8. Install gitui (Alternative to Lazygit)
**Impact**: Minimal (lazygit is better)
**Effort**: 5 minutes
**Reason**: Only if you prefer Rust tools or want to compare

**Installation**:
```bash
sudo snap install gitui
```

#### 9. Set Up Git Hooks
**Impact**: Depends on project needs
**Effort**: 15-30 minutes per hook
**Use Cases**:
- Pre-commit linting
- Commit message validation
- Pre-push testing

#### 10. Configure Advanced Lazygit Features
**Impact**: Power user features
**Effort**: 30 minutes
**Features**:
- Custom commands for gh integration
- Advanced keybindings
- Custom themes
- Integration with micro editor

**Example advanced config**:
```yaml
customCommands:
  - key: 'P'
    command: 'gh pr create --web'
    context: 'global'
    description: 'Create PR in browser'

  - key: 'V'
    command: 'gh pr view --web'
    context: 'global'
    description: 'View current PR'

  - key: '<c-f>'
    command: 'git log --oneline | fzf --preview "git show {1}" | cut -d " " -f 1'
    context: 'commits'
    description: 'Fuzzy find commit'
    subprocess: true

keybinding:
  universal:
    quit: 'q'
    quit-alt1: '<c-c>'
    return: '<esc>'
    prevItem: '<up>'
    nextItem: '<down>'
    prevPage: ','
    nextPage: '.'
```

## Summary

### Current State
- **Minimal git tooling**: Only git CLI and gh (GitHub CLI)
- **No TUI git client**: Missing lazygit/tig
- **Basic git config**: Only user name/email configured
- **No aliases**: All commands must be typed in full
- **Default diff/pager**: No syntax highlighting or enhanced viewing
- **FZF available**: Can be leveraged for git integrations

### Recommended Immediate Actions (30 minutes total)
1. Install lazygit (5 min)
2. Install delta (10 min)
3. Add git aliases to ~/.gitconfig (5 min)
4. Configure lazygit basic settings (5 min)
5. Configure delta with git (5 min)

### Expected Impact
- **80% faster** staging and committing (lazygit)
- **Much better** diff readability (delta)
- **50% fewer keystrokes** for common operations (aliases)
- **Better visual feedback** across all git operations

### Integration Points
- Lazygit + delta: Enhanced diff viewing in TUI
- Lazygit + gh: Custom commands for PR management
- Lazygit + fzf: Fuzzy finding commits/branches
- Lazygit + micro: Consistent editor experience
- Yazi + git: File manager shows git status
- Tmux + lazygit: Can have dedicated git pane

### Next Steps
1. Install high-priority tools (lazygit, delta)
2. Configure git with aliases and delta
3. Create lazygit config with custom commands
4. Test workflow integration with existing tools (yazi, micro, tmux)
5. Consider medium-priority tools based on usage patterns
