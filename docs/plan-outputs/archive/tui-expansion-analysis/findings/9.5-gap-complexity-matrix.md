# Task 9.5: Categorized Gap Matrix by Implementation Complexity

**Date:** 2025-12-26
**Source:** Tasks 9.2, 9.3, 9.4 gap analyses
**Purpose:** Categorize all identified gaps by implementation complexity

---

## Executive Summary

This matrix categorizes **61 total missing features** from tasks 9.2-9.4 into three complexity tiers:
- **Quick Win:** 19 features (1-4 hours each, minimal code changes)
- **Medium Effort:** 24 features (4-16 hours each, new components)
- **Architectural Change:** 18 features (1+ days each, infrastructure changes)

---

## Complexity Definitions

| Category | Effort | Criteria |
|----------|--------|----------|
| **Quick Win** | 1-4 hours | Extend existing panel, add icon/badge, minimal new code |
| **Medium Effort** | 4-16 hours | New panel or modal, new data flow, 50-200 lines |
| **Architectural Change** | 1-5 days | New infrastructure, data layer changes, 500+ lines |

---

## Quick Win Features (19 total)

### Git Workflow (5)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Branch badge in header | 9.2 | 2 hours | Add text to header panel |
| Branch validation icon | 9.2 | 1 hour | ✓/⚠ based on config |
| Uncommitted count in footer | 9.2 | 2 hours | Add to footer stats |
| Last commit display | 9.2 | 2 hours | Add to git row |
| Commits ahead indicator | 9.2 | 1 hour | Add counter |

### Parallel/Sequential (7)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Sequential chain icon (⛓) | 9.3 | 1 hour | Add icon to task render |
| Sequential group suffix | 9.3 | 2 hours | Add `[3.1-3.4]` suffix |
| Parallel phase badge | 9.3 | 1 hour | Add `[PARALLEL]` to header |
| Conflict badge (⚠) | 9.3 | 1 hour | Add icon to conflicting tasks |
| Conflict count in progress | 9.3 | 1 hour | Add to progress bar |
| Extend blocker display | 9.3 | 2 hours | Add constraint type |
| Critical path highlight | 9.3 | 3 hours | Add color to path tasks |

### Orchestrator (7)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Retry badge on tasks | 9.4 | 2 hours | Add `[Retry N/3]` suffix |
| Iteration count in header | 9.4 | 1 hour | Add `Iteration: 12/50` |
| Orchestrator state badge | 9.4 | 2 hours | Add Running/Paused/Stopped |
| X/R/A task action keys | 9.4 | 3 hours | Add to action menu |
| Activity heartbeat | 9.4 | 2 hours | Show last activity time |
| Stuck countdown inline | 9.4 | 3 hours | Add timer to in_progress |
| Error badge on tasks | 9.4 | 1 hour | Add ✗ for failed tasks |

---

## Medium Effort Features (24 total)

### Git Workflow (5)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Git status panel | 9.2 | 8 hours | New collapsible panel |
| Commit queue panel | 9.2 | 6 hours | New panel with queue data |
| "Waiting for git" indicator | 9.2 | 4 hours | New task status state |
| Branch switcher modal | 9.2 | 8 hours | Modal with branch list |
| Commit history stream | 9.2 | 6 hours | Add to activity panel |

### Parallel/Sequential (10)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Constraint summary panel | 9.3 | 8 hours | New panel with groups |
| "Why waiting" panel | 9.3 | 6 hours | New panel with explanations |
| Execution note display | 9.3 | 4 hours | Show constraint reasons |
| Conflict summary panel | 9.3 | 6 hours | List file conflicts |
| Sequential execution warning | 9.3 | 4 hours | Footer warning |
| "Blocking" indicators | 9.3 | 4 hours | Reverse dependency display |
| Circular dependency warning | 9.3 | 4 hours | Startup validation modal |
| Current batch panel | 9.3 | 8 hours | New panel with batch info |
| Batch composition explainer | 9.3 | 8 hours | Tooltip/panel with reasons |
| Parallelism indicator | 9.3 | 4 hours | N tasks running display |

### Orchestrator (9)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Stuck warning panel | 9.4 | 8 hours | New panel with timers |
| Manual intervention modal | 9.4 | 8 hours | Options modal |
| Error detail modal | 9.4 | 6 hours | Full error display |
| Exhausted task list | 9.4 | 4 hours | Failed tasks panel |
| Failure panel | 9.4 | 6 hours | Dedicated failed display |
| Extend threshold control | 9.4 | 4 hours | Add time to stuck task |
| Force retry control | 9.4 | 4 hours | Reset task command |
| Abort task control | 9.4 | 4 hours | Force-fail task |
| Batch size adjustment | 9.4 | 6 hours | +/- controls with IPC |

---

## Architectural Change Features (18 total)

### Git Workflow (5)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Pre-completion checklist | 9.2 | 2 days | Multi-step modal flow |
| Merge strategy selector | 9.2 | 1 day | Radio selector + logic |
| Conflict resolution modal | 9.2 | 3 days | Interactive merge UI |
| Stash management | 9.2 | 2 days | Stash view/apply UI |
| Archive browser panel | 9.2 | 2 days | Browse completed plans |

### Parallel/Sequential (6)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Multi-plan dashboard | 9.3 | 3 days | New view mode |
| Plan switcher | 9.3 | 2 days | Navigation + state |
| Unified event stream | 9.3 | 3 days | Cross-plan events |
| Swimlane layout | 9.3 | 3 days | Parallel phase display |
| Dependency matrix | 9.3 | 2 days | Grid visualization |
| Worktree status panel | 9.3 | 2 days | Worktree integration |

### Orchestrator (7)

| Feature | Source | Effort | Implementation |
|---------|--------|--------|----------------|
| Pause/resume/stop controls | 9.4 | 3 days | IPC integration |
| Skip task with reason | 9.4 | 1 day | Modal + update logic |
| Event streaming architecture | 9.4 | 5 days | Real-time event bus |
| IPC status query | 9.4 | 2 days | Remote orchestrator |
| Phase transition events | 9.4 | 1 day | Event parsing |
| Agent spawn events | 9.4 | 1 day | Track agent lifecycle |
| Constraint violation events | 9.4 | 1 day | Alert system |

---

## Priority × Complexity Matrix

### Quick Wins by Priority

| Priority | Features | Total Effort |
|----------|----------|--------------|
| **HIGH** | 8 | ~16 hours |
| **MEDIUM** | 7 | ~14 hours |
| **LOW** | 4 | ~6 hours |

**HIGH Priority Quick Wins:**
1. Branch badge in header
2. Uncommitted count in footer
3. Sequential chain icon (⛓)
4. Conflict badge (⚠)
5. Retry badge on tasks
6. Orchestrator state badge
7. Stuck countdown inline
8. Error badge on tasks

### Medium Effort by Priority

| Priority | Features | Total Effort |
|----------|----------|--------------|
| **HIGH** | 9 | ~60 hours |
| **MEDIUM** | 10 | ~56 hours |
| **LOW** | 5 | ~26 hours |

**HIGH Priority Medium Effort:**
1. Git status panel
2. Constraint summary panel
3. "Why waiting" panel
4. Current batch panel
5. Batch composition explainer
6. Stuck warning panel
7. Manual intervention modal
8. Error detail modal
9. Failure panel

### Architectural by Priority

| Priority | Features | Total Effort |
|----------|----------|--------------|
| **HIGH** | 5 | ~12 days |
| **MEDIUM** | 7 | ~15 days |
| **LOW** | 6 | ~10 days |

**HIGH Priority Architectural:**
1. Pre-completion checklist
2. Conflict resolution modal
3. Multi-plan dashboard
4. Pause/resume/stop controls
5. Event streaming architecture

---

## Implementation Recommendations

### Phase 1: Quick Wins (1 week)

**Focus:** High-value, low-effort enhancements

| Day | Features |
|-----|----------|
| 1 | Branch badge, uncommitted count, commits ahead |
| 2 | Sequential/conflict icons, retry badge |
| 3 | Orchestrator state, iteration count, error badge |
| 4 | X/R/A action keys, activity heartbeat |
| 5 | Critical path highlight, blocker extensions |

**Outcome:** 19 features, ~36 hours

### Phase 2: Medium Effort (2 weeks)

**Focus:** New panels and modals

| Week | Features |
|------|----------|
| 1 | Git status panel, stuck panel, error modal |
| 2 | Constraint panel, batch panel, intervention modal |

**Outcome:** 12 high-priority features, ~72 hours

### Phase 3: Architectural (3-4 weeks)

**Focus:** Infrastructure changes

| Week | Features |
|------|----------|
| 1-2 | Pause/resume/stop + IPC integration |
| 2-3 | Multi-plan dashboard + plan switcher |
| 3-4 | Event streaming architecture |

**Outcome:** 5 high-priority features, ~15 days

---

## Summary Table

| Category | Count | Total Effort | Value |
|----------|-------|--------------|-------|
| Quick Win | 19 | ~36 hours | HIGH |
| Medium Effort | 24 | ~142 hours | MEDIUM-HIGH |
| Architectural | 18 | ~37 days | HIGH |
| **TOTAL** | **61** | **~6-8 weeks** | - |

---

## Decision Framework

### AMEND Existing TUI Plan If:
- Implementing Quick Wins only (19 features)
- Implementing up to 10 Medium Effort features
- No Architectural changes needed

### NEW Plan Required If:
- Multi-plan dashboard needed
- Event streaming architecture needed
- Pause/resume/stop controls needed
- Pre-completion workflow needed

### Recommended Approach:
**HYBRID** - Amend for Quick Wins + select Medium Effort, new plan for Architectural features.

---

## Verification Criteria

- [x] Categorized all 61 features from tasks 9.2-9.4
- [x] Applied complexity criteria (Quick Win, Medium, Architectural)
- [x] Provided effort estimates for each
- [x] Created priority × complexity matrix
- [x] Proposed implementation phasing
- [x] Recommended AMEND vs NEW PLAN decision

---

**End of Analysis**
