# Task 9.3: Parallel/Sequential Features NOT in Current TUI Plan

**Date:** 2025-12-26
**Source:** Phases 2-7 inventory vs tui-integration-implementation.md
**Purpose:** Identify parallel/sequential features missing from current TUI plan

---

## Summary

Comparing the parallel/sequential feature inventory from Phases 2-7 against the current TUI plan reveals **24 missing features**. The current TUI plan includes a basic dependency graph (Phase 4.1) and inline blockers (Phase 2.4), but lacks sophisticated constraint visualization, batch management, and multi-plan capabilities.

---

## Current TUI Plan Parallel/Sequential Coverage

### What's Partially Covered

| Feature | Location in Plan | Gap |
|---------|-----------------|-----|
| Dependency graph | Phase 4.1 | Basic tree only, no critical path |
| Inline blockers | Phase 2.4 | `[Blocked by: X.Y]` indicator - no constraint type |
| Upcoming tasks | Phase 2.2 | Shows next tasks, no batch grouping |

### What's Completely Missing

- `[SEQUENTIAL]` / `[PARALLEL]` annotation visualization
- File conflict detection display
- Batch composition explainer
- Commit queue visualization
- Multi-plan execution support
- Constraint override controls

---

## Missing Parallel/Sequential Features

### Category A: Annotation System Visualization (Phase 2)

| Feature | Source | Impact | Description |
|---------|--------|--------|-------------|
| **Sequential chain icon** | 2.5 | HIGH | `â›“` icon on sequential tasks |
| **Sequential group indicator** | 2.5 | HIGH | `[3.1-3.4]` suffix showing constraint |
| **Parallel phase badge** | 2.5 | MEDIUM | `[PARALLEL]` header when active |
| **Execution note display** | 2.4 | MEDIUM | Show reason for constraints |
| **Swimlane layout** | 2.5 | LOW | Side-by-side phase progress bars |

### Category B: File Conflict Detection (Phase 3)

| Feature | Source | Impact | Description |
|---------|--------|--------|-------------|
| **Conflict badge on tasks** | 3.5 | HIGH | `âš ` icon on conflicting tasks |
| **Conflict summary panel** | 3.5 | MEDIUM | List files with conflicting tasks |
| **Conflict count in progress** | 3.5 | LOW | `Conflicts: 2` in progress bar |
| **Sequential execution warning** | 3.5 | MEDIUM | `âš  Sequential required` in footer |
| **Conflict resolution tracking** | 3.5 | LOW | Show when conflicts resolve |

### Category C: Dependency System (Phase 4)

| Feature | Source | Impact | Description |
|---------|--------|--------|-------------|
| **Critical path panel** | 4.5 | HIGH | Show longest dependency chain |
| **"Blocking" indicators** | 4.5 | MEDIUM | Tasks waiting on selected task |
| **Circular dependency warning** | 4.5 | HIGH | Alert on malformed plans |
| **Dependency matrix** | 4.5 | LOW | Task Ã— task relationship grid |

### Category D: Commit Queue (Phase 5)

| Feature | Source | Impact | Description |
|---------|--------|--------|-------------|
| **Commit queue panel** | 5.5 | MEDIUM | Show pending git commits |
| **Processing indicator** | 5.5 | MEDIUM | Spinner when committing |
| **"Waiting for git" state** | 5.5 | LOW | Task status extension |
| **Queue management controls** | 5.5 | LOW | Reorder, cancel commits |

### Category E: Multi-Plan Execution (Phase 6)

| Feature | Source | Impact | Description |
|---------|--------|--------|-------------|
| **Multi-plan dashboard** | 6.5 | HIGH | Overview of all active plans |
| **Plan switcher** | 6.5 | HIGH | Quick navigation between plans |
| **Unified event stream** | 6.5 | MEDIUM | Cross-plan activity feed |
| **Progress comparison** | 6.5 | MEDIUM | Side-by-side plan bars |
| **Worktree status panel** | 6.5 | LOW | Monitor worktree health |

### Category F: Batch Execution (Phase 7)

| Feature | Source | Impact | Description |
|---------|--------|--------|-------------|
| **Current batch panel** | 7.5 | HIGH | Show grouped tasks in batch |
| **Batch composition explainer** | 7.5 | HIGH | "Why batched this way?" tooltip |
| **Parallelism indicator** | 7.5 | MEDIUM | `N tasks running` display |
| **Batch history** | 7.5 | LOW | Past batch timing stats |
| **Batch size controls** | 7.5 | LOW | Runtime `+`/`-` adjustment |

---

## Gap Analysis Summary

### By Priority

| Priority | Count | Features |
|----------|-------|----------|
| **HIGH** | 9 | Sequential icon, group indicator, conflict badge, critical path, cycle warning, dashboard, switcher, batch panel, batch explainer |
| **MEDIUM** | 9 | Parallel badge, notes, conflict summary, warning, blocking, queue panel, processing, event stream, comparison, parallelism |
| **LOW** | 6 | Swimlane, conflict count, resolve tracking, matrix, waiting state, worktree, history, controls |

### By Implementation Type

| Type | Count | Features |
|------|-------|----------|
| **Display Enhancement** | 12 | Icons, badges, indicators, warnings |
| **New Panel** | 8 | Conflict summary, critical path, queue, dashboard, batch, history |
| **New Mode** | 2 | Multi-plan dashboard, swimlane layout |
| **Control** | 2 | Batch size adjustment, queue management |

---

## Specific Feature Details

### 1. Constraint Summary Panel (Missing)

**Proposed in task 2.5:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXECUTION CONSTRAINTS                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sequential Groups:                        â”‚
â”‚   â›“ 3.1-3.4: all modify same file        â”‚
â”‚   â›“ 5.2-5.4: database migration          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Parallel Phases:                          â”‚
â”‚   âŸ· 1-3: independent modules             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ File Conflicts:                           â”‚
â”‚   âš  src/api.ts: 3.1, 3.2 (sequential)    â”‚
â”‚   âš  config.json: 2.1, 4.1 (different ph) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why missing:** Current plan has no constraint-aware visualization.

### 2. "Why Waiting" Panel (Missing)

**Proposed in task 2.5:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WHY WAITING                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3.2 - Held back (sequential with 3.1)    â”‚
â”‚       â›“ 3.1 must complete first          â”‚
â”‚       Group: 3.1-3.4                      â”‚
â”‚                                           â”‚
â”‚ 4.1 - Blocked by dependencies             â”‚
â”‚       â—‹ 2.1 (in_progress)                â”‚
â”‚       â—‹ 2.2 (pending)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why missing:** Current blocker display is inline only, no explanation.

### 3. Multi-Plan Dashboard (Missing)

**Proposed in task 6.5:**
```
â”Œâ”€ Active Plans â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                        â”‚
â”‚ Plan                         Progress            Phase         Status  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ âš™ feature-auth              [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%    Phase 2      running  â”‚
â”‚   main repo                  12/15 tasks         1 in_progress        â”‚
â”‚                                                                        â”‚
â”‚ âš™ api-refactor              [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 60%    Phase 3      running  â”‚
â”‚   worktrees/plan-api-refac   9/15 tasks          2 in_progress        â”‚
â”‚                                                                        â”‚
â”œâ”€ Aggregate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total: 3 plans | 46/87 tasks (53%) | 3 in_progress | 0 failed         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why missing:** Current TUI is single-plan focused only.

### 4. Batch Composition Explainer (Missing)

**Proposed in task 7.5:**
```
â”Œâ”€ Batch Composition â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                        â”‚
â”‚ Current batch includes 3 tasks from 2 phases:                         â”‚
â”‚                                                                        â”‚
â”‚ âœ“ 3.1, 3.2 - Same phase, no conflicts                                â”‚
â”‚ âœ“ 4.1     - [PARALLEL] phases 3-4 enabled                            â”‚
â”‚                                                                        â”‚
â”‚ Excluded from batch:                                                  â”‚
â”‚ â¸ 3.3 - Sequential with 3.1 (same file)                              â”‚
â”‚ â¸ 3.4 - Depends on 3.3                                               â”‚
â”‚ ğŸš« 5.1 - Depends on 4.2 (not started)                                â”‚
â”‚                                                                        â”‚
â”‚ [?] Tap for constraint details                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why missing:** Current TUI shows tasks in progress but not batching logic.

---

## Integration Points with Current TUI Plan

### Easy Extensions to Existing Tasks

| Existing Task | Possible Extension |
|---------------|-------------------|
| 2.4 Inline Blockers | Add constraint type (â›“ sequential, âš  conflict) |
| 4.1 Dependency Graph | Add critical path highlighting |
| 2.2 Upcoming Tasks | Show batch grouping |

### New Tasks Needed

| Feature Cluster | Est. Tasks | Priority |
|-----------------|------------|----------|
| Constraint visualization | 3-4 tasks | HIGH |
| Multi-plan dashboard | 3-4 tasks | MEDIUM |
| Batch explainer | 2-3 tasks | HIGH |
| Commit queue | 2 tasks | MEDIUM |
| Swimlane layout | 2 tasks | LOW |

---

## Data Availability

All features have **data sources already implemented**:

| Feature | Data Source | Status |
|---------|-------------|--------|
| Sequential groups | `parseExecutionNotes()` | Available |
| File conflicts | `detectFileConflicts()` | Available |
| Parallel phases | `next` command output | Available |
| Dependency graph | `buildDependencyGraph()` | Available |
| Critical path | `deps` command | Available |
| Multi-plan status | `all-plans` command | Available |
| Batch info | `cmdNext()` output | Available |
| Commit queue | `getQueueStatus()` | Available |

---

## Recommendations

### Quick Wins (Extend Existing Tasks)

1. **Add â›“ icon to sequential tasks** in In Progress panel
2. **Add âš  icon to file conflicts** in In Progress panel
3. **Add constraint type to blockers** in 2.4 Inline Blockers

### Medium Effort (New Tasks in Existing Phases)

4. **Constraint Summary Panel** (new task in Phase 2)
5. **Critical Path highlighting** (extend Phase 4.1)
6. **Current Batch Panel** (new task in Phase 2)

### Larger Features (May Need New Plan)

7. **Multi-Plan Dashboard** (4+ tasks, new infrastructure)
8. **Swimlane Layout** (architectural change)
9. **Real-time Event Streaming** (new data flow)

---

## Verification Criteria

- [x] Compared Phases 2-7 inventory with current TUI plan
- [x] Identified 24 missing parallel/sequential features
- [x] Categorized by priority (HIGH/MEDIUM/LOW)
- [x] Noted data availability for each feature
- [x] Proposed integration points

---

**End of Analysis**
