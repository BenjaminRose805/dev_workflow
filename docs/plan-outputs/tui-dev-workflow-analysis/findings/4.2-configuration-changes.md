# 4.2 Configuration Changes Needed

This document catalogs all configuration file changes needed to implement the TUI workflow enhancements.

---

## Configuration Files Overview

| File | Tool | Status | Changes Needed |
|------|------|--------|----------------|
| ~/.bashrc | Shell | Exists | Add integrations |
| ~/.gitconfig | Git | Exists | Add delta + aliases |
| ~/.tmux.conf | tmux | Missing | Create new |
| ~/.config/micro/settings.json | Micro | Exists | Expand settings |
| ~/.config/micro/bindings.json | Micro | Missing | Create new |
| ~/.config/yazi/yazi.toml | Yazi | Exists | Fix git fetcher |
| ~/.config/yazi/keymap.toml | Yazi | Missing | Create new |
| ~/.config/glow/glow.yml | Glow | Missing | Create new |

---

## 1. Shell Configuration (~/.bashrc)

### Current State
Basic bash configuration with no TUI tool integrations.

### Changes Required

```bash
# ============================================
# TUI TOOL INTEGRATIONS
# Add these to the end of ~/.bashrc
# ============================================

# --- fzf Integration ---
# Enables: Ctrl-R (history), Ctrl-T (files), Alt-C (cd)
source /usr/share/doc/fzf/examples/key-bindings.bash
source /usr/share/doc/fzf/examples/completion.bash

# --- fzf-git Integration ---
# Enables: Ctrl-G + b/c/t/r/s/f for git operations
# Download first: curl -o ~/.fzf-git.sh https://raw.githubusercontent.com/junegunn/fzf-git.sh/main/fzf-git.sh
[ -f ~/.fzf-git.sh ] && source ~/.fzf-git.sh

# --- zoxide Integration ---
# Enables: z (smart jump), zi (interactive)
eval "$(zoxide init bash)"

# --- Modern Tool Aliases ---
# Replace basic tools with enhanced versions
alias cat='batcat --paging=never'
alias ls='eza --icons --group-directories-first'
alias ll='eza -la --icons --group-directories-first --git'
alias tree='eza --tree --icons --level=2'
alias find='fdfind'

# --- Git Shortcuts ---
alias g='git'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gd='git diff'
alias gs='git status'
alias gl='git lg'
alias lg='lazygit'

# --- Navigation ---
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'

# --- Utility Functions ---
mkcd() { mkdir -p "$1" && cd "$1"; }

# Quick file preview (bat for files, eza for dirs)
p() {
    if [ -f "$1" ]; then
        batcat "$1"
    elif [ -d "$1" ]; then
        eza -la --icons "$1"
    else
        echo "File not found: $1"
    fi
}

# fzf with preview
fzfp() {
    fzf --preview 'batcat --color=always --style=numbers --line-range=:500 {}'
}
```

### Installation Command

```bash
# Backup existing
cp ~/.bashrc ~/.bashrc.backup.$(date +%Y%m%d)

# Append integrations (use heredoc for safety)
cat >> ~/.bashrc << 'BASHRC_EOF'

# === TUI Tool Integrations (added automatically) ===
source /usr/share/doc/fzf/examples/key-bindings.bash
source /usr/share/doc/fzf/examples/completion.bash
[ -f ~/.fzf-git.sh ] && source ~/.fzf-git.sh
eval "$(zoxide init bash)"

alias cat='batcat --paging=never'
alias ls='eza --icons --group-directories-first'
alias ll='eza -la --icons --group-directories-first --git'
alias lg='lazygit'
alias ..='cd ..'
alias ...='cd ../..'
BASHRC_EOF

source ~/.bashrc
```

---

## 2. Git Configuration (~/.gitconfig)

### Current State
Basic git configuration without delta or aliases.

### Changes Required

```ini
# ~/.gitconfig additions

[core]
    pager = delta

[interactive]
    diffFilter = delta --color-only

[delta]
    navigate = true
    side-by-side = true
    syntax-theme = Monokai Extended
    line-numbers = true
    file-style = bold yellow ul
    hunk-header-style = omit

[alias]
    st = status
    co = checkout
    br = branch
    ci = commit
    df = diff
    lg = log --oneline --graph --decorate -20
    unstage = reset HEAD --
    last = log -1 HEAD
    branches = branch -a
    remotes = remote -v
    stashes = stash list
```

### Installation Commands

```bash
# Delta as pager
git config --global core.pager delta
git config --global interactive.diffFilter "delta --color-only"

# Delta settings
git config --global delta.navigate true
git config --global delta.side-by-side true
git config --global delta.syntax-theme "Monokai Extended"
git config --global delta.line-numbers true

# Aliases
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.df diff
git config --global alias.lg "log --oneline --graph --decorate -20"
git config --global alias.unstage "reset HEAD --"
git config --global alias.last "log -1 HEAD"
```

---

## 3. Tmux Configuration (~/.tmux.conf)

### Current State
File does not exist - tmux uses defaults.

### Full Configuration

```bash
# ~/.tmux.conf - Full Configuration

# ============================================
# GENERAL SETTINGS
# ============================================

# Better prefix key
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Mouse support
set -g mouse on

# Better history
set -g history-limit 50000

# Start windows and panes at 1
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Faster escape (for vim/micro)
set -s escape-time 0

# Colors
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"

# ============================================
# KEY BINDINGS
# ============================================

# Reload config
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# Split panes with | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Navigate panes with vim keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ============================================
# STATUS BAR
# ============================================

set -g status-position top
set -g status-style 'bg=#333333 fg=#ffffff'
set -g status-left-length 30
set -g status-right-length 50

set -g status-left '#[fg=green,bold]#S #[fg=white]│ '
set -g status-right '#[fg=cyan]#{pane_current_path} #[fg=white]│ #[fg=yellow]%H:%M'

# Window status
setw -g window-status-current-style 'fg=cyan,bold'
setw -g window-status-current-format ' #I:#W '
setw -g window-status-style 'fg=white'
setw -g window-status-format ' #I:#W '

# ============================================
# PLUGINS (via TPM)
# ============================================

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Plugin settings
set -g @continuum-restore 'on'
set -g @resurrect-capture-pane-contents 'on'

# Initialize TPM (keep at very bottom)
run '~/.tmux/plugins/tpm/tpm'
```

### Installation Steps

```bash
# 1. Create config file
cat > ~/.tmux.conf << 'TMUX_EOF'
# (paste full config above)
TMUX_EOF

# 2. Install TPM
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# 3. Start tmux and install plugins
tmux
# Press: prefix (Ctrl-a) + I to install plugins
```

---

## 4. Micro Editor Settings (~/.config/micro/settings.json)

### Current State
```json
{
    "lsp.server": "python=pylsp",
    "lsp.autocompleteDetails": true,
    "lsp.formatOnSave": true
}
```

### Updated Configuration

```json
{
    "lsp.server": "python=pylsp,sh=bash-language-server,json=deno lsp,markdown=deno lsp",
    "lsp.autocompleteDetails": true,
    "lsp.formatOnSave": true,

    "diffgutter": true,
    "hltrailingws": true,
    "rmtrailingws": true,

    "savecursor": true,
    "saveundo": true,

    "tabsize": 4,
    "tabstospaces": true,
    "autoindent": true,

    "ruler": true,
    "softwrap": false,
    "scrollmargin": 5,

    "colorscheme": "monokai-dark"
}
```

### Installation Command

```bash
cat > ~/.config/micro/settings.json << 'EOF'
{
    "lsp.server": "python=pylsp,sh=bash-language-server,json=deno lsp,markdown=deno lsp",
    "lsp.autocompleteDetails": true,
    "lsp.formatOnSave": true,
    "diffgutter": true,
    "hltrailingws": true,
    "rmtrailingws": true,
    "savecursor": true,
    "saveundo": true,
    "tabsize": 4,
    "tabstospaces": true,
    "colorscheme": "monokai-dark"
}
EOF
```

---

## 5. Micro Key Bindings (~/.config/micro/bindings.json)

### Current State
File does not exist.

### Configuration

```json
{
    "Ctrl-p": "command:fzf",
    "Ctrl-s": "Save",
    "Ctrl-q": "Quit",
    "Alt-/": "lua:comment.comment"
}
```

### Installation Command

```bash
cat > ~/.config/micro/bindings.json << 'EOF'
{
    "Ctrl-p": "command:fzf",
    "Ctrl-s": "Save",
    "Ctrl-q": "Quit"
}
EOF
```

---

## 6. Yazi Main Config (~/.config/yazi/yazi.toml)

### Current State
Has glow previewer but missing git fetcher configuration.

### Changes Required (Append)

```toml
# Add to existing yazi.toml

[[plugin.prepend_fetchers]]
id   = "git"
name = "*"
run  = "git"

[[plugin.prepend_fetchers]]
id   = "git"
name = "*/"
run  = "git"
```

### Installation Command

```bash
# Append git fetcher config
cat >> ~/.config/yazi/yazi.toml << 'EOF'

# Git status fetcher
[[plugin.prepend_fetchers]]
id   = "git"
name = "*"
run  = "git"

[[plugin.prepend_fetchers]]
id   = "git"
name = "*/"
run  = "git"
EOF
```

---

## 7. Yazi Keymap (~/.config/yazi/keymap.toml)

### Current State
File does not exist.

### Full Configuration

```toml
# ~/.config/yazi/keymap.toml

# --- Git Integration ---
[[manager.prepend_keymap]]
on   = ["<C-g>"]
run  = "plugin lazygit"
desc = "Open lazygit"

# --- Preview Scrolling ---
[[manager.prepend_keymap]]
on   = ["<C-e>"]
run  = "seek 5"
desc = "Scroll preview down"

[[manager.prepend_keymap]]
on   = ["<C-y>"]
run  = "seek -5"
desc = "Scroll preview up"

# --- Smart Enter ---
[[manager.prepend_keymap]]
on   = ["l"]
run  = "plugin smart-enter"
desc = "Smart enter"

[[manager.prepend_keymap]]
on   = ["<Enter>"]
run  = "plugin smart-enter"
desc = "Smart enter"

# --- Zoxide Jump ---
[[manager.prepend_keymap]]
on   = ["z"]
run  = "plugin zoxide"
desc = "Zoxide jump"

# --- Bookmarks (yamb) ---
[[manager.prepend_keymap]]
on   = ["m"]
run  = "plugin yamb --args=save"
desc = "Save bookmark"

[[manager.prepend_keymap]]
on   = ["'"]
run  = "plugin yamb --args=jump"
desc = "Jump to bookmark"

# --- Quick Operations ---
[[manager.prepend_keymap]]
on   = ["<Esc>"]
run  = "escape --search --visual"
desc = "Clear selection/search"
```

### Installation Command

```bash
cat > ~/.config/yazi/keymap.toml << 'KEYMAP_EOF'
# Git integration
[[manager.prepend_keymap]]
on   = ["<C-g>"]
run  = "plugin lazygit"
desc = "Open lazygit"

# Preview scrolling
[[manager.prepend_keymap]]
on   = ["<C-e>"]
run  = "seek 5"
desc = "Scroll preview down"

[[manager.prepend_keymap]]
on   = ["<C-y>"]
run  = "seek -5"
desc = "Scroll preview up"

# Smart enter
[[manager.prepend_keymap]]
on   = ["l"]
run  = "plugin smart-enter"
desc = "Smart enter"

# Zoxide
[[manager.prepend_keymap]]
on   = ["z"]
run  = "plugin zoxide"
desc = "Zoxide jump"
KEYMAP_EOF
```

---

## 8. Glow Configuration (~/.config/glow/glow.yml)

### Current State
File does not exist.

### Configuration

```yaml
# ~/.config/glow/glow.yml

# Render style (auto/dark/light/notty/dracula/tokyo-night)
style: auto

# Show local files (vs cloud stash)
local: true

# Mouse support in TUI
mouse: true

# Enable pager for long docs
pager: true

# Content width (0 = terminal width)
width: 100
```

### Installation Command

```bash
mkdir -p ~/.config/glow
cat > ~/.config/glow/glow.yml << 'EOF'
style: auto
local: true
mouse: true
pager: true
width: 100
EOF
```

---

## Configuration Change Summary

| Config File | Action | Priority | Time |
|-------------|--------|----------|------|
| ~/.bashrc | Append integrations | HIGH | 5 min |
| ~/.gitconfig | Add delta + aliases | HIGH | 3 min |
| ~/.tmux.conf | Create new | HIGH | 10 min |
| ~/.config/micro/settings.json | Update | HIGH | 2 min |
| ~/.config/micro/bindings.json | Create new | LOW | 1 min |
| ~/.config/yazi/yazi.toml | Append fetcher | HIGH | 1 min |
| ~/.config/yazi/keymap.toml | Create new | MEDIUM | 3 min |
| ~/.config/glow/glow.yml | Create new | LOW | 1 min |

**Total Time:** ~25 minutes

---

## Master Configuration Script

```bash
#!/bin/bash
# apply-configs.sh - Apply all configuration changes

set -e
BACKUP_DIR=~/config-backup-$(date +%Y%m%d-%H%M%S)

echo "=== TUI Configuration Setup ==="
echo "Backing up to: $BACKUP_DIR"

mkdir -p "$BACKUP_DIR"

# Backup existing configs
[ -f ~/.bashrc ] && cp ~/.bashrc "$BACKUP_DIR/"
[ -f ~/.gitconfig ] && cp ~/.gitconfig "$BACKUP_DIR/"
[ -f ~/.tmux.conf ] && cp ~/.tmux.conf "$BACKUP_DIR/"
[ -d ~/.config/micro ] && cp -r ~/.config/micro "$BACKUP_DIR/"
[ -d ~/.config/yazi ] && cp -r ~/.config/yazi "$BACKUP_DIR/"
[ -d ~/.config/glow ] && cp -r ~/.config/glow "$BACKUP_DIR/"

echo "Backups complete."

# Apply each configuration...
# (individual commands from sections above)

echo "=== Configuration Complete ==="
echo "Run: source ~/.bashrc"
echo "Run: tmux source ~/.tmux.conf (if tmux running)"
```

---

**Generated:** 2024-12-24
**Total Files:** 8
**Total Changes:** 15 sections
